(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27241],{991102:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},441959:e=>{var i,n,a,l,t,o,r,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,t,o,r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},r],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(s)},182964:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=i},256468:e=>{var i,n,a,l,t,o,r,s,d,c,u,p,m,_,g,h,v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[o,r,l,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,c={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:_=[n,c,u,p,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},c,u,p,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:_,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},h={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:_,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},r,s,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};v.hash="d1f927758a909a471118286b2e67e97d",e.exports=v},788536:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=n},599271:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=i},937711:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=i},823722:e=>{var i,n,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};l.hash="69c8282217ea70788d1578a6885fe8bd",e.exports=l},143453:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=i},717988:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=i},298262:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};a.hash="dda341dce5f1fa956d1837dec35496de",e.exports=a},782194:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=i},277334:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},524209:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(667294),l=n(883119),t=n(234983),o=n(434012),r=n(864809),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:i,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,o.ZP)(),[_,g]=(0,a.useState)(!1),{dangerousInlineStyle:h,iconColor:v}=(0,r.W)(!!e),y=(0,t.Z)();return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:h,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m.bt("Merchant verification badge icon", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):m.bt("Badge icon", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:v,inline:!0,size:d[i]}),n&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:m.bt("Verified merchant", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!c)&&(0,s.jsx)(r.Z,{showModal:_,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},864809:(e,i,n)=>{n.d(i,{W:()=>u,Z:()=>p});var a=n(667294),l=n(883119),t=n(778833),o=n(234983),r=n(816987),s=n(434012),d=n(643517),c=n(785893);const u=e=>{const i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:n,setShowModal:p}){const m=(0,s.ZP)(),[_,g]=(0,a.useState)(!0),{dangerousInlineStyle:h,iconColor:v}=u(!0),y=(0,o.Z)();return(0,a.useEffect)((()=>{n&&_&&(g(!1),y({event_type:13,component:13534}))}),[n]),(0,c.jsx)(r.ZP,{accessibilityModalLabel:m.bt("Verified merchant information", "Verified merchant information", "creator.verifiedMerchant.accessibilityModalLabel", undefined, true),isOpen:n,mobileAccessibilityCloseIconLabel:m.bt("Close", "Close", "Close modal window", undefined, true),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(l.xu,{padding:3,children:(0,c.jsxs)(l.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:h,justifyContent:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:m.bt("Merchant verification badge icon", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:v,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(l.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:m.bt("Verified merchant", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(l.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:m.bt("This retailer meets Pinterest's Merchant Guidelines", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(l.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(l.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(l.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,t.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(l.xu,{marginTop:2,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(l.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(l.zx,{role:"link",accessibilityLabel:m.bt("Learn more", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:d.vB,text:m.bt("Learn more", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},571736:(e,i,n)=>{function a(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(i,{Z:()=>a})},695255:(e,i,n)=>{n.d(i,{Z:()=>p});var a=n(883119),l=n(667294),t=n(396681),o=n(785893);const r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>Array(5).fill().map((()=>r[Math.floor(52*Math.random())])).join("");function d({children:e}){const i=(0,l.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:s(),content:e})))),[e]);return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsx)(t.Z,{unsafeCSS:i.map((({className:e,content:i})=>`.${e}:before { content: "${i}"; }`)).join(" ")}),i.map((({className:e})=>(0,o.jsx)("span",{className:e},e)))]})}var c=n(260531);const u=e=>e.startsWith("Promoted");function p({children:e,lineClamp:i,size:n,underline:l,weight:t}){const{isAuthenticated:r}=(0,c.B)(),s=r&&u(e);return(0,o.jsx)(a.xv,{size:n,lineClamp:i,underline:l,weight:t,title:s?"":e,children:s?(0,o.jsx)(d,{children:e}):e})}},646824:(e,i,n)=>{n.d(i,{Z:()=>l,v:()=>a});const a=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function l(){if(!a())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},778833:(e,i,n)=>{n.d(i,{Bu:()=>_,Dm:()=>r,I:()=>v,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>g,hm:()=>h,yQ:()=>s,ym:()=>f});var a=n(260727);const l=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),t=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),r=[...Object.keys(l).map((e=>l[e])),...Object.keys(t).map((e=>t[e]))],s=[...Object.keys(o).map((e=>o[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function _({verifiedMerchant:e}){var i,n;const a=null==e?void 0:e.isVerifiedMerchant,l=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,t=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(a&&l&&t)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function h(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,i,n){return i&&n?i.map((e=>n.find((i=>i.id===e.trim())))).filter(Boolean):[]}function y(e){const i=(0,a.oo)(e);if(!i)return"white";const[n,l,t]=i;return(0,a.DW)(n,l,t)<=a.I?"white":"black"}function f(e){const i=e||c[0];return{backgroundColor:i,color:y(i)}}},112634:(e,i,n)=>{n.d(i,{Mi:()=>l,lO:()=>t});var a=n(946689);const{Provider:l,useMaybeHook:t}=(0,a.Z)("pageContext")},71972:(e,i,n)=>{n.d(i,{_:()=>d,a:()=>c});var a=n(667294),l=n(702664),t=n(618446),o=n.n(t),r=n(303741),s=n(260531);const d=({extraContext:e,id:i,shouldUsePlacedExperience:n=!0})=>{const t=(0,a.useRef)(),d=(0,l.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,l.useSelector)((e=>e.experiences[i]));return(0,a.useEffect)((()=>{d((0,r.kd)(i))}),[d,u,i]),(0,a.useEffect)((()=>{n||o()(t.current,e)||(d((0,r.pz)([i],c,e)),t.current=e)}),[d,e,c,i,n]),u},c=e=>(d(e),(0,l.useSelector)((i=>i.experiencesMulti[e.id])))},7039:(e,i,n)=>{n.r(i),n.d(i,{default:()=>v});var a=n(667294),l=n(883119),t=n(571736),o=n(268893),r=n(434012),s=n(654504),d=n(260531),c=n(640003),u=n(780621),p=n(55592),m=n(290588),_=n(785893);const g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},h=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function v({accessibilityModalLabel:e,align:i="center",allowScroll:n=!1,children:v,closeOnOutsideClick:y=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:k,mobileIsFullscreen:P,isOpen:w,mobileIsSlideUp:S,mobileIsFooter:I,onDismiss:T,zIndex:j,subHeading:A,type:D}){const C=(0,r.ZP)(),{isRTL:L}=(0,d.B)(),F=(0,a.useRef)(!1),[z,M]=(0,a.useState)(!1),{setAppFocusState:R}=(0,m.I)(),K=(0,p.ZP)();(0,a.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${D||"unknown_type"}.did_mount.is_open.${String(!!w)}`)}),[w,D]),(0,a.useEffect)((()=>(F.current=(0,t.Z)((()=>{F.current&&M(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)})),[]),(0,a.useEffect)((()=>(w?(s.Z.pause(),R(!1)):(s.Z.resume(),R(!0)),()=>{w&&(s.Z.resume(),R(!0))})),[R,w]),(0,a.useEffect)((()=>{const e=w&&!n;return e&&g(),()=>{e&&h()}}),[w,n]);return w?(0,_.jsx)(c.Z,{children:(0,_.jsx)(l.mh,{children:(0,_.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",zIndex:j||o.ZM,position:"relative",role:"dialog",children:[(0,_.jsx)(l.iP,{accessibilityLabel:C.bt("Mobile sign-up modal mask", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{const i=e;(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${D||"unknown_type"}.with_dismissal`,{x:i.clientX,y:i.clientY}),y&&T()},tapStyle:"none",children:(0,_.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,_.jsxs)(l.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:S?(0,o.Vf)({isFullscreen:P,isTablet:"tablet"===K,isShowing:z,isRelatedInterestsModal:"related_interests_modal"===D}):(0,o.JN)({variant:P?"fullscreen":"tablet"===K?"tablet":I?"footer":"signup"===D?"signup":void 0}),children:[(0,_.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!k?(0,_.jsx)(l.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,_.jsx)(l.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:T,padding:4,size:"sm"})}):null,x?(0,_.jsx)(l.kC.Item,{flex:"grow",children:(0,_.jsx)(l.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:b&&!k?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},children:[P?x:(0,_.jsx)(l.xv,{align:i,weight:"bold",size:"400",children:x}),A?(0,_.jsx)(l.xv,{align:i,children:A}):null]})})}):null]}),(0,_.jsxs)(l.xu,{overflow:"auto",children:[v,f]})]})]})})}):null}},714376:(e,i,n)=>{n.d(i,{Z:()=>s});var a=n(883119),l=n(842625),t=n(535225),o=n(55592),r=n(785893);const s=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,o.ZP)()&&i;return(0,t.V)()?(0,r.jsx)(a.xu,{marginStart:-l.D6,marginEnd:-l.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,r.jsx)(t.C,{value:!1,children:e})}):e}},257877:(e,i,n)=>{n.d(i,{P:()=>r,t:()=>s});var a=n(904062),l=n(162474);const t=()=>{};const o={complaint:function(e,i){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){a.Z.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){a.Z.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){a.Z.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){(0,l.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>i()))},promotedComplaint:function(e,i){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){(0,l.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){a.Z.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){a.Z.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){a.Z.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){(0,l.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,n=t){const a=e?o[e]:null;return a?a(i,n):n()}},728036:(e,i,n)=>{n.d(i,{EF:()=>p,Iv:()=>d,Ud:()=>s,hP:()=>r,nb:()=>u,oK:()=>c});var a=n(376410),l=n(257877),t=n(744589);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function r({boardFollowedByMe:e,feedbackType:i,viewParameter:n,promotion:a,recommendationReason:l,pinnerFollowedByMe:t}){if(a&&!a.isDownstreamPromotion)return"promoted";if(i)return i;if(l){if("FOLLOWED_INTEREST"===l.reason)return"topic";if("FOLLOWING_FEED"!==l.reason&&"RECENT_FOLLOWED_BOARD"!==l.reason)return l.hasBoard?"pfyBoard":"pfy"}if(e||t)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:i,makeNavigateLink:n}){var l,t,r,s,d,c,u,p;switch(e.type){case"pfy":return i.bt("This Pin was inspired by your recent activity", "This Pin was inspired by your recent activity", "Pin feedback reason", undefined, true);case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,a.nk)(i.bt("This Pin was inspired by your board {{ boardLink }}", "This Pin was inspired by your board {{ boardLink }}", "Pin feedback - inspired by your board", undefined, true),{boardLink:n("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:_}=e;return _?(0,a.nk)(i.bt("This Pin was inspired by {{ formattedTopic }}", "This Pin was inspired by {{ formattedTopic }}", "Pin feedback", undefined, true),{formattedTopic:n("topicUrl",`/topics/${_.url_name}`,_.name)}):null;case"followed":const{followed:g}=e;return"pinner"===g.type?(0,a.nk)(i.bt("This Pin is from {{ formattedPinner }}, a profile you follow", "This Pin is from {{ formattedPinner }}, a profile you follow", "Pin feedback", undefined, true),{formattedPinner:n("pinnerUrl",`/${null!==(l=null===(t=g.pinner)||void 0===t?void 0:t.username)&&void 0!==l?l:""}`,o(null!==(r=null===(s=g.pinner)||void 0===s?void 0:s.full_name)&&void 0!==r?r:""))}):(0,a.nk)(i.bt("This Pin is from {{ formattedBoard }}, a board you follow", "This Pin is from {{ formattedBoard }}, a board you follow", "Pin feedback", undefined, true),{formattedBoard:n("boardUrl",null!==(d=null===(c=g.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",o(null!==(u=null===(p=g.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:l,username:t}=e.promoter,o=n("promotedLink",t?"/"+t+"/":"/",l);return(0,a.nk)(i.bt("{{ promoterLink }} paid to have this Pin displayed where you’d be more likely to notice it.", "{{ promoterLink }} paid to have this Pin show up where you’d be more likely to notice it", "Pin feedback", undefined, true),{promoterLink:o})}return i.bt("This ad was personalised for you using info from one of our partners", "This ad was personalized for you using info from one of our partners", "Pin feedback", undefined, true);default:return null}}function d({sourceInterest:e,i18n:i,makeNavigateLink:n}){var l,o;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:t.X},title:"",subTitle:(0,a.nk)(i.bt("We’ll show you fewer Pins from {{ formattedTopic }} in future.", "We’ll show you less Pins from {{ formattedTopic }} in the future.", "pin.contextualMenu.feedback.unfollowTopic.subtitle", undefined, true),{formattedTopic:n("topicUrl",`/topics/${null!==(l=e.url_name)&&void 0!==l?l:""}`,null!==(o=e.name)&&void 0!==o?o:"",!0)})}}function c({boardId:e,display:i,i18n:n,makeNavigateLink:l}){var t,o,r,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===i.type?(0,a.nk)(n.bt("You unfollowed {{ formattedPinner }} and won’t see Pins they save any more.", "You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.", "Confirmation text after unfollowing a user", undefined, true),{formattedPinner:l("pinnerUrl",`/${null!==(t=i.data.username)&&void 0!==t?t:""}`,null!==(o=i.data.full_name)&&void 0!==o?o:"",!0)}):(0,a.nk)(n.bt("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it any more.", "You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.", "Confirmation text after unfollowing a board", undefined, true),{formattedBoard:l("boardUrl",null!==(r=i.data.url)&&void 0!==r?r:"",null!==(s=i.data.name)&&void 0!==s?s:"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,i,n,a,t,o,r){return()=>{const s={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,l.t)(d,s),o(n),r({event_type:101,component:0,element:11181,view_type:a,view_parameter:t})}}},426093:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(301351);const l=e=>(e||"").trim().replace(/\s+/g," "),t=({storyPinDataId:e,pinDescription:i,richMetadataDescription:n,richSummaryDisplayName:t,closeupDescription:o,closeupUnifiedDescription:r,seoDescription:s,seoNoindexReason:d})=>{if(d&&a.eg.has(d))return l(s);return!!e?l(i):l((0,a.eK)({richMetadataDescription:n,richSummaryDisplayName:t,closeupUnifiedDescription:r}).description)||l(r||"")||l(o)||l(i)||l(n)||""}},301351:(e,i,n)=>{n.d(i,{eg:()=>o,kt:()=>_,rw:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>m,bN:()=>g,RC:()=>r,EU:()=>s});const a=/\s\s+/g,l=e=>e.replace(a," ");var t=n(675475);const o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),r=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,s=(e,i)=>e?e.trim().length>i?(0,t.ZP)(e.trim(),i).trim():e.trim():"",d=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})=>{const o=t||e,r=s(i,200);return r||(n||(a||(l&&o?o:null)))},c=e=>{const{richSummaryDisplayName:i}=e,n=e.pinJoinVisualAnnotation||[],a=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",r=e.closeupUnifiedDescription||"",s=n.map((e=>(a||{})[e]||{name:e,url:""}));let d="";const c=(i||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),p=r.toLocaleLowerCase().trim();return r&&r.length>3&&p!==c?d=r:o&&o.length>3&&u!==c&&(d=o),d&&(d=l((0,t.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s,seoNoindexReason:u,seoTitle:p})=>{if(u&&o.has(u))return p;const{annotationsWithLinks:m}=c({pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s}),_=(m||[]).map((e=>e.name)),g=e=>(e||[])[0]||null;return d({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})||g(r)||g(_)||e},p=(e,i,n,a,l)=>{const t=(o=e,"string"==typeof o?o:"").trim();var o;let r="";const s=(e,i)=>i&&i.length>0?`${e} ${i.join(", ")}`:e;return r=a&&a.trim().length?s(a.trim(),n):l&&l.trim().length?l.trim():t?s(t,n):n?n.join(", "):"",r},m=e=>`/pin/${e}/`,_=(e,i)=>{const n=`Pinterest video from ${i}: `.concat(e);return""===i?e:n},g=({pinId:e,seoUrl:i})=>i&&"string"==typeof i?i:m(e)},949364:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({accessibilityLabel:e}){return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},475252:(e,i,n)=>{n.d(i,{Z:()=>s,t:()=>d});var a=n(667294),l=n(167912),t=n(904062);function o(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const r={};class s extends a.Component{constructor(...e){super(...e),o(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((i=>{if(i&&i.resource_response){const n=i.resource_response.data;r[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),o(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e,relayEnvironment:i,inviteQuery:n}=this.props;(0,l.fetchQuery)(i,n,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){const i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},661068:(e,i,n)=>{n.d(i,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var a=n(616550),l=n(883119),t=n(260531),o=n(935057),r=n(578662),s=n(785893);const d=()=>{const e=(0,r.Z)(),{isInternalIP:i}=(0,t.B)(),n=(0,a.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,o.mB)(n.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(l.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(l.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},733399:(e,i,n)=>{n.d(i,{M:()=>o,Q:()=>t});var a=n(667294);const l=(0,a.createContext)(null),t=()=>(0,a.useContext)(l),o=l.Provider},287421:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(733399);const l=()=>{var e;return(null===(e=(0,a.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},905839:(e,i,n)=>{n.d(i,{Z:()=>d});var a=n(883119),l=n(370942),t=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},r={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:_,pressState:g,shape:h,text:v})=>{const y=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(i),f=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...o.__style,...r}}:o)({color:i,icon:c}),x=(0,t.jsx)(a.xu,{position:"relative",children:(0,t.jsx)(a.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===h?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,t.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,t.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,t.jsx)(a.JO,{accessibilityLabel:e,color:y,icon:c,inline:!0,size:"check"===c?16:20})}),(0,t.jsx)(a.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return _?(0,t.jsx)(l.Z,{onTouch:_,rounding:"pill"===h?"pill":2,pressState:g||"none",children:(0,t.jsx)(a.xu,{ref:d,children:x})}):x}},315983:(e,i,n)=>{n.d(i,{MZ:()=>z,di:()=>R,Ai:()=>M});var a=n(667294),l=n(616550),t=n(883119),o=n(646824),r=n(234983),s=n(267856),d=n(504289),c=n(835686),u=n(966167),p=n(495025),m=n(260531),_=n(589598),g=n(430848),h=n(780621),v=n(578662),y=n(804402),f=n(92921),x=n(835770),b=n(905839),k=n(617518),P=n(691546),w=n(340289),S=n(467330);const I=({children:e,external:i,externalQueryParams:n,target:a,href:t})=>{const o=(0,l.useHistory)();if(!t)return null;const r=(0,k.Z)(t);return e({navigate:e=>{e.preventDefault(),(0,w.Z)({url:r})||i?"undefined"!=typeof window&&window.Windows?(0,S.Z)(r):(0,P.Gj)(r,{queryParams:n}):(0,P.G3)({event:e,href:t,history:o,target:"blank"===a?"blank":null})}})};var T=n(785893);const j=({accessibilityLabel:e,children:i,external:n,externalQueryParams:a,inline:l=!1,newTab:o,nofollow:r,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:m})=>(0,T.jsx)(I,{external:n,target:o?"blank":null,externalQueryParams:a,href:m,children:({navigate:n})=>(0,T.jsx)(t.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,k.Z)(m),display:l?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==s||s(e),e.defaultPrevented||n(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:i})}),A=({external:e,externalQueryParams:i,newTab:n,onTouch:a,to:l,...t})=>(0,T.jsx)(I,{external:e,target:n?"blank":null,externalQueryParams:i,href:l,children:({navigate:e})=>(0,T.jsx)(b.Z,{onTouch:i=>{null==a||a(i),i.defaultPrevented||e(i)},...t})});var D=n(122870),C=n(825152),L=n(392407);const F=(e,i=!1)=>function({isAppUpsellDisabled:n,...b}){const{children:k,clientTrackingParams:P,deeplinkUri:w,external:S,onTouch:I,refresh:j,to:A,viewParameter:F,viewType:z}=b,M=(0,x.Z)(),[R,K]=(0,a.useState)(!1),[U,N]=(0,a.useState)(!1),[E,Z]=(0,a.useState)(!1),{isAuth:O}=(0,v.Z)(),{userAgent:{platform:B,browserName:q},locale:H}=(0,m.B)(),W=(0,L.Tt)(),V=(0,r.Z)(),{checkExperiment:$}=(0,c.F)(),J=(0,l.useLocation)(),G=(0,u.Z)();(0,a.useEffect)((()=>{!async function(){if(o.v){Z(!0);(await(0,o.Z)()).length>0&&N(!0)}}()}),[]),(0,a.useEffect)((()=>{O||(0,h.My)(`unauth.app_upsell.has_app.${U.toString()}`,{browser:q,platform:B})}),[q,U,O,B]);const Y=()=>{V({event_type:1701,view_type:z,view_parameter:F}),R&&K(!1)};return(0,T.jsxs)(t.xu,{"data-test-id":"deeplink-wrapper",children:[R&&(0,T.jsx)(f.Z,{clientTrackingParams:P,deepLinkUri:w,isOpen:!0,onDismiss:()=>{V({component:14157,element:10308,event_type:10220,view_type:z||202,view_parameter:F,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,_.Nh)("deeplinkBehavior","branchfallback"),Y()},shouldTrackDismiss:!0,to:A,viewParameter:F,viewType:z,within:"deep-link-app-upsell-modal"}),(0,T.jsx)(D.Z,{children:a=>(0,T.jsx)(e,{...b,onTouch:e=>{const l=M&&!n&&O&&!S&&!j&&!(0,p.FP)(window)&&!("ios"===B&&(H||"").startsWith("ar"))&&(0,C.kp)((0,s.Z)(null==W?void 0:W.created_at));if(l){let i=!0,n=!1;"string"==typeof w&&(w||"").startsWith("/pin/")&&((0,d.uM)(J)||(0,d.am)(J)||(0,d.C$)(J))?E&&U&&w&&"android"===B&&$("mweb_auth_deep_link_app_installed_user").anyEnabled&&(G(),i=!1):(i=!1,n=!0),i?(e.stopPropagation(),e.preventDefault(),K(!0)):n||(e.stopPropagation(),e.preventDefault(),V({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),a(null!=w?w:(0,y.B)(J),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,_.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),a(w,"deep-link-app-upsell-modal",`${window.location.origin}${t=A,"string"==typeof t?t:`${t.pathname||""}${t.search?`?${t.search}`:""}`}`),Y());var t;i&&l||!I||I(e)},children:k})})]})},z=F(j),M=F(A),R=F(b.Z,!0)},122870:(e,i,n)=>{n.d(i,{Z:()=>p});var a=n(545168),l=n(835686),t=n(260531),o=n(478561),r=n(825152),s=n(800842),d=n(785893);function c({children:e,invite_code:i}){const{isAuthenticated:n,isBot:o,unauthId:d,userAgent:{platform:c,raw:u}}=(0,t.B)(),{logContextEvent:p}=(0,a.v)(),{checkExperiment:m}=(0,l.F)();return e((async(e,a,l)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:a}}),(0,s.Z)({isAuthenticated:n,checkExperiment:m,deeplinkUri:e,fallbackUrl:l,invite_code:i,logContextEvent:p,platform:c,redirectToLite:(0,r.Rp)({isBot:o,platform:c,userAgent:u}),unauthId:d,userAgent:u,within:a})}))}const u=e=>(0,d.jsx)(o.ty,{children:i=>(0,d.jsx)(c,{...e,invite_code:i})});u.displayName="DeepLinkNavigator";const p=u},795137:(e,i,n)=>{n.d(i,{fv:()=>g,Hs:()=>v,Mv:()=>m,uc:()=>_,dL:()=>p,qS:()=>h,Y4:()=>x,HE:()=>f,Cy:()=>y});var a=n(667294),l=n(973935),t=n(545168),o=n(654504),r=n(785893);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class d extends a.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return a.Children.only(this.props.children)}}function c(e){const{logImpression:i}=(0,t.v)();return(0,r.jsx)(d,{...e,logImpression:i})}function u({auxData:e,component:i,eventData:n,eventType:l,impressionType:r,isPaused:s,objectIdStr:d,viewData:c,viewType:u,viewParameter:p}){const m=(0,a.useRef)(null),{logImpression:_}=(0,t.v)(),g=(0,a.useCallback)((()=>{const a=a=>{var t,o,s,g;_({viewData:c||{},viewType:u,viewParameter:p,eventType:l,impressionType:r,auxData:e,component:i,objectIdStr:d,eventData:{endTime:a.endTime,time:a.startTime,pinCellWidth:(null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...n}})};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;o.Z.start(m.current).onExitViewport(a).setDebugId(e||i||"unknown")}}catch(t){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,a.useEffect)((()=>{s||g();const{current:e}=m;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,g]),m}const p=e=>{const i=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},m=e=>{const i=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},_=e=>{const i=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},g=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),h=e=>{const i=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},v=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const i=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>{const i=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},x=e=>{const i=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},370942:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({children:e,onMouseEnter:i,onMouseLeave:n,onTouch:t,rounding:o,fullWidth:r=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,l.jsx)(a.iP,{fullWidth:r,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:t&&(({event:e})=>t(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},927241:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Zi,pinRepPaddingInBoint:()=>Li});var a,l=n(667294),t=n(702664),o=n(167912),r=n(616550),s=n(883119),d=n(234983),c=n(765767),u=n(534619),p=n(483240),m=n(71972),_=n(59674),g=n(434012),h=n(376410),v=n(267856),y=n(327007),f=n(728036),x=n(56397),b=n(426093),k=n(301351),P=n(835686),w=n(211516),S=n(8501),I=n(260531),T=n(898960),j=n(801021),A=n(593954),D=n(780621),C=n(161452),L=n(661068),F=n(55592),z=n(278286),M=n(131680),R=n(236165),K=n(315983),U=n(795137),N=n(466799),E=n(462120),Z=n(833979),O=n(422447),B=n(197916),q=n(815039),H=n(695255),W=n(797541),V=n(504289),$=n(370942),J=n(275208),G=n(182833),Y=n(785893);const Q=({data:{pinProduct:{maxPrice:e,minPrice:i,inStock:n,standardPrice:a,price:t},domain:o}})=>{const r=(0,g.ZP)(),{textColor:d,inStockColor:c}=(({isDarkMode:e,inStock:i})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:i?"dark":"subtle"})({isDarkMode:(0,G.Yc)(),inStock:n||!1});return(0,Y.jsxs)(l.Fragment,{children:[o&&(0,Y.jsx)(s.xv,{color:d,size:"100",children:o}),(0,Y.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[i&&e?(0,Y.jsxs)(s.xv,{size:"100",color:c,weight:"bold",children:[i," - ",e]}):(0,Y.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:a||t}),!n&&(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(s.xu,{paddingX:1,children:(0,Y.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:"·"})}),(0,Y.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:r.bt("Out of stock", "Out of stock", "pinCard.priceLego.outOfStock", undefined, true)})]})]})]})},{usePinData:X}=(0,_.x0)(void 0!==a?a:a=n(788536),{useLegacyAdapter:e=>{var i,n;return e&&{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(i=e.rich_metadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(n=e.rich_summary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}});function ee(e){var i,n,a;const[l]=X(e.pinGraphqlRef?{graphqlRef:e.pinGraphqlRef}:e.pinId);if(!l)return null;const t=(0,Z.kb)({hasLinkDomain:!!l.linkDomain,richMetadata:l.richMetadata&&{recipe:l.richMetadata.recipe&&{fromAggregatedData:l.richMetadata.recipe.fromAggregatedData},products:(null!==(i=l.richMetadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:l.richSummary&&{products:(null!==(n=l.richSummary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return t&&t.price?(0,Y.jsx)(Q,{data:{pinProduct:t,domain:null===(a=l.richSummary)||void 0===a?void 0:a.siteName}}):null}var ie,ne=n(435915),ae=n(567187);const le=void 0!==ie?ie:ie=n(991102),te=(0,l.lazy)((()=>n.e(36678).then(n.bind(n,736678)))),oe=({title:e})=>{const i=(0,F.HG)(),n=(0,C.Z)();return(0,Y.jsx)(A.Z,{id:"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,Y.jsx)(H.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},re=({credits:e,data:i,hasAffiliatedProducts:n,hidePinMetadata:a,isPromotedPin:t,isSponsoredPin:o,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:m,pinId:_,pinnedToBoardId:h,pinReactionCounts:v,recipeReview:y,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:k})=>{var P,w,S,j,L,z,M,R,K;const U=(0,g.ZP)(),N=(0,r.useLocation)(),E=(0,C.Z)(),{isAuthenticated:Z}=(0,I.B)(),O=(0,F.HG)(),B=(0,r.useHistory)(),q=b||u||"oneTap"===k,{pinner:H}=i,G=(0,J.gC)()(h||String(null===(P=i.board)||void 0===P?void 0:P.entityId)),Q=t&&(null===(w=i.promoter)||void 0===w?void 0:w.entityId)===(null===(S=i.nativeCreator)||void 0===S?void 0:S.entityId),X=V.Q0?2:c||(q&&!a?1:0),ie=!x;return(0,Y.jsxs)(s.xu,{flex:"grow",children:[(0,Y.jsx)(s.xu,{display:"flex",marginTop:a?0:c||1,children:(0,Y.jsxs)(s.xu,{flex:"grow",children:[(o||n)&&!Q&&(0,Y.jsx)(s.xu,{marginBottom:1,children:(0,Y.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,Y.jsx)(ne.Z,{hasAffiliatedProducts:n,isPromoted:t,sponsorName:i.sponsorship?(0,Y.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=i.sponsorship)||void 0===j?void 0:j.status})})}),b&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:Z&&!a&&(0,Y.jsx)(oe,{title:b})}),O&&!Z&&u&&!(0,V.$Y)(N)&&!(0,V.E0)(N)&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,Y.jsx)(s.iP,{onTap:()=>{E({action:"click",item:"related-pins-description"})},children:(0,Y.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,Y.jsx)(ee,{pinId:_,pinGraphqlRef:m}),y]})}),f&&v&&Object.keys(v).length>0&&(0,Y.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,Y.jsx)(T.Z,{children:(0,Y.jsx)(te,{pinReactionCounts:v})})})}),ie&&e?(0,Y.jsx)($.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&B.push(e.link),d()},pressState:"none",children:(0,Y.jsx)(s.xu,{children:(!a||o||Q)&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:X,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{E({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(W.Z,{accessibilityLabel:e.title||e.subtitle||U.bt("Creator's avatar", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,Y.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,Y.jsx)(s.iP,{onTap:()=>{E({action:"click",item:"related-pins-name"})},children:(0,Y.jsxs)(l.Fragment,{children:[e.title&&(0,Y.jsx)(s.xv,{lineClamp:1,size:"100",weight:o&&!Q||n?"normal":"bold",children:e.title===(null==H?void 0:H.fullName)&&(null!=H&&H.isVerifiedMerchant||null!=H&&null!==(L=H.verifiedIdentity)&&void 0!==L&&L.verified)?(0,Y.jsx)(ae.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:H.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!o&&!a||Q)&&(0,Y.jsx)(s.xv,{lineClamp:o||n?void 0:1,size:O?"200":"100",weight:O?"bold":"normal",children:e.subtitle}):!Z&&G&&"protected"!==G.privacy?(0,Y.jsx)(A.Z,{id:"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(z=G.url)&&void 0!==z?z:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),E({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:G.name})})}):null]})})})]})})}):O&&!!H&&((0,V.L6)(N)||(0,V.cD)(N)||(0,V.$Y)(N))&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:q?2:0,children:[(0,Y.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{E({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(W.Z,{name:H.username||"",size:"sm",src:null!==(M=H.imageSmallUrl)&&void 0!==M?M:void 0})})}),(0,Y.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,Y.jsx)(s.rU,{underline:"hover",href:`/${H.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),E({action:"click",item:"related-pins-name"})},children:(0,Y.jsx)(s.xv,{size:"200",weight:"bold",children:H.fullName||H.username})}),G&&"protected"!==G.privacy?(0,Y.jsx)(A.Z,{id:"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(R=G.url)&&void 0!==R?R:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),E({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:null!==(K=G.name)&&void 0!==K?K:""})})}):null]})]})]})},{usePinData:se}=(0,_.x0)(le,{useLegacyAdapter:e=>e&&{entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}}}),de=e=>{const{pinId:i,pinGraphqlRef:n}=e,[a,l]=se(n?{graphqlRef:n}:i);return a&&(0,Y.jsx)(re,{...e,data:a,pinGraphqlRef:l})};var ce,ue=n(949364),pe=n(475252);const me=void 0!==ce?ce:ce=n(441959),_e=(e,i)=>{const{checkExperiment:n}=(0,P.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{const n=(0,o.useRelayEnvironment)();return(0,Y.jsx)(pe.t,{invite_code:e,relayEnvironment:n,inviteQuery:me,children:e=>{const n=null!=e&&e.data?e.data.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,h.nk)(i.bt("{{ name }} shared this idea with you", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(W.Z,{name:a,src:l})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})})(e,i):((e,i)=>(0,Y.jsx)(pe.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,h.nk)(i.bt("{{ name }} shared this idea with you", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(W.Z,{name:a,src:l})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}))(e,i)},ge=({inviteCode:e})=>{const i=(0,g.ZP)();return(0,Y.jsx)(s.xu,{minHeight:82,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,Y.jsx)(T.Z,{fallback:(0,Y.jsx)(ue.Z,{accessibilityLabel:i.bt("Loading invitation component", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:_e(e,i)})})})};var he=n(451681),ve=n(996141),ye=n(639429),fe=n(16728),xe=n(287421),be=n(898524),ke=n(708798),Pe=n(935057),we=n(837739),Se=n(119108),Ie=n(442935),Te=n(632752),je=n(303741),Ae=n(905839),De=n(405165),Ce=n(457762),Le=n(392407),Fe=n(723546),ze=n(839508);const Me=new s.Ry(1);function Re({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:a,experience:o,inline:c=!0,minWidth:u,onTouch:p,onUnsave:m,pinId:_,pinnedToBoardId:h,shape:v,shouldShowSavedButton:y,viewType:f,viewParameter:x,showSaveHandoffExperience:b}){var k;const P=(0,g.ZP)(),w=(0,t.useDispatch)(),S=(0,r.useHistory)(),I=(0,r.useLocation)(),T=(0,ze.M)(),j=I.pathname.startsWith("/pin"),A=(0,t.useSelector)((({session:e})=>e.hasSavedUnauthPin)),D=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),L=null===(k=(0,Le.Tt)())||void 0===k?void 0:k.pin_count,F=(0,d.Z)(),z=(0,C.Z)(),M=e=>S.push(e),{showToast:R,showRepinConfirmation:U}=(0,De.Z)(),N=()=>{var e;w((0,Fe.Z)({history:S,i18n:P,logContextEvent:F,onSuccess:()=>{o&&w((0,je.CK)(o.placement_id,o.experience_id))},originalPinId:_,pinId:_,trackingParams:{clientTrackingParams:i,pinnedToBoardId:h},showRepinConfirmation:b&&!j?()=>{}:U,disableRepinAnimation:D===_,pinCount:L,historyPush:M,savePinId:null!==(e=null==T?void 0:T.save)&&void 0!==e?e:()=>{}})).catch((e=>R((({hideToast:i})=>(0,Y.jsx)(be.ZP,{type:"error",text:e.message||P.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:i})))))},E=(0,l.useRef)(null),Z=b&&!A,O=(0,Te.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),p&&p(e),y?y&&m&&m():N()},modalHeader:(0,Ie.Bx)(P)});(0,l.useEffect)((()=>{Z&&!E.current&&(z({action:"trigger",item:"unauth-save-button-quicksave"}),F({event_type:14581}),N(),w((0,Ce.e2)())),E.current=Z}));const B=()=>P.bt("Pin", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),q=()=>e||P.bt("Save", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return A&&!j?null:(0,Y.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:Me,children:a?(0,Y.jsx)(K.di,{accessibilityLabel:B(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:c,minHeight:48,minWidth:u,onTouch:O,pressState:["compress","background"],shape:v,size:"lg",text:q(),to:S.location.pathname,upsellType:"save",viewType:f,viewParameter:x}):(0,Y.jsx)(Ae.Z,{accessibilityLabel:B(),color:n,customStyles:{padding:"14px 16px"},inline:c,minHeight:48,minWidth:u,onTouch:O,pressState:"compress",shape:v,size:"300",text:q()})})}var Ke=n(553956),Ue=n(917833),Ne=n(347127);function Ee(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class Ze extends l.PureComponent{constructor(...e){var i;super(...e),i=this,Ee(this,"state",{saveState:void 0}),Ee(this,"legoFixedZIndex",new s.Ry(2)),Ee(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:a,oneTapSave:l,pinId:t,pinnedToBoardId:o,showToast:r,viewType:s,historyPush:d,repinContext:c}=i.props;try{var u;const a=await n((0,Ne.w)({i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:t,pinId:t,boardId:null==l?void 0:l.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==l?void 0:l.section,showToast:r,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:s,historyPush:d,savePinId:null!==(u=null==c?void 0:c.save)&&void 0!==u?u:()=>{}}));i.setState({saveState:"saved"}),n((0,Ke.a)({boardId:null==l?void 0:l.boardId,localPinId:a.id,pinId:t}))}catch(p){r((({hideToast:e})=>(0,Y.jsx)(be.ZP,{type:"error",text:p.message||a.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),i.setState({saveState:void 0})}})),Ee(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:a,pinId:l,savedInfo:t,showToast:o,repinContext:r}=i.props;if(t){e((0,Ke.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:l})),null==r||r.unsave(l);try{await e((0,Ue.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:n})),o((({hideToast:e})=>(0,Y.jsx)(be.ZP,{text:a.bt("Pin deleted", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),i.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,Y.jsx)(be.ZP,{type:"error",text:a.bt("Sorry, an error occurred whilst deleting your Pin.", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),i.setState({saveState:"saved"})}}})),Ee(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:a,isOneTapExploreLocalTab:l,pinnedToBoard:t}=this.props;["saving","deleting"].includes(i)||l&&t||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l?n.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,Ie.Bx)(this.props.i18n)})),Ee(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{checkExperiment:e,children:i,clientTrackingParams:n,homepageExperience:a,i18n:t,isBoardIdeas:o,isOneTapExploreLocalTab:r,isRTL:d,oneTapSave:c,pinId:u,pinnedToBoard:p,pinnedToBoardId:m,savedInfo:_,shouldShowSaveHandoffExp:g,useSmallSaveIcon:h}=this.props;if(!c&&!r&&!g)return i;const v=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:p,savedInfo:_}),y="#000",f="rgba(255, 255, 255, 0.8)",x="light",b="dark",{group:k}=o?e("mweb_align_save_icon"):{},P=k&&k.includes("label"),w=k&&k.includes("all_surfaces");return(0,Y.jsxs)(l.Fragment,{children:[i,(0,Y.jsx)(s.xu,{bottom:!0,left:d,padding:2,position:"absolute",right:!d,zIndex:this.legoFixedZIndex,children:g?(0,Y.jsx)(Re,{buttonText:p?t.bt("Saved", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:n,color:p?"default":"primary",deeplinkUri:"deeplinkUri",experience:a,inline:!0,pinnedToBoardId:m,minWidth:54,pinId:u,shape:"pill",shouldShowSavedButton:!!p,showSaveHandoffExperience:g}):(0,Y.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v?y:f}},paddingX:P?3:2,paddingY:2,rounding:P?"pill":"circle",children:(0,Y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[P&&(v?(0,Y.jsx)(s.xv,{weight:"bold",color:"light",children:t.bt("Saved", "Saved", "button for saving quickly with one click", undefined, true)}):(0,Y.jsx)(s.xv,{weight:"bold",color:"dark",children:t.bt("Save", "Save", "button for saving quickly with one click", undefined, true)})),!P&&(0,Y.jsx)(s.JO,{accessibilityLabel:v?t.bt("saved", "saved", "checkmark icon to show pin has been saved", undefined, true):t.bt("save", "save", "button for saving quickly with one click", undefined, true),icon:v?"check":(()=>{if(k&&w){if(k.includes("pin"))return"angled-pin";if(k.includes("bookmark"))return"save-outline"}return"add"})(),color:v?x:b,size:h||w?16:24})]})})})})]})}}function Oe(e){const{showToast:i}=(0,ke.F9)(),n=(0,r.useLocation)(),a=(0,g.ZP)(),o=(0,d.Z)(),s=(0,Te.Z)(),c=(0,t.useDispatch)(),u=(0,r.useHistory)(),{isRTL:p,isAuthenticated:m}=(0,I.B)(),_=(0,ze.M)(),h=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),v=m&&!!h&&h===e.pinId,{pins:y,clear:f}=(0,Se.Z)(),x=(0,l.useRef)(!1),b=(0,Pe.mB)(n.search).ideas_referrer,k=(0,F.HG)(),{checkExperiment:w}=(0,P.F)(),S=(0,we.J1)(),T=!k&&b===String(25),j=e=>u.push(e),A=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo)),C=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board)),L=(0,t.useSelector)((e=>e.experiences[40001]));return(0,z.Z)((()=>{m&&!x.current&&y.length>0&&(x.current=!0,o({event_type:14577,aux_data:{num_unauth_saved_pins:y.length}}),[...y,...h&&w(S).anyEnabled?[{id:h}]:[]].forEach((({id:i})=>{var n;c((0,Fe.Z)({history:u,i18n:a,logContextEvent:o,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:j,savePinId:null!==(n=null==_?void 0:_.save)&&void 0!==n?n:()=>{}})).catch((e=>{(0,D.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,Y.jsx)(Ze,{...e,checkExperiment:w,i18n:a,requireAuthForLimitedLogin:s,history:u,logContextEvent:o,showToast:i,shouldShowSaveHandoffExp:v,isRTL:p,historyPush:j,useSmallSaveIcon:T,repinContext:_,savedInfo:A,pinnedToBoard:C,homepageExperience:L,dispatch:c})}Oe.displayName="OneTapSave";const Be=Oe;var qe=n(675475);function He({boardUrl:e,boardName:i,isQuicksave:n,sectionName:a,sectionSlug:l}){const t=(0,g.ZP)(),o=(0,r.useHistory)(),d=new s.Ry(1),c=!!l&&`${e}${l}/`;return(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:d,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,Y.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),o.push(n?"/me/":c||e)},children:(0,Y.jsx)(s.xv,{color:"light",children:a?(0,h.nk)(t.bt("Saved to {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,qe.ZP)(a,22)},`pincard-${a}`)}):(0,h.nk)(t.bt("Saved to {{boardName}}", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:n?t.bt("Profile", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,qe.ZP)(i,22)},`pincard-${i}`)})})})})})}var We=n(112634),Ve=n(103619);const $e=({clickLoggingOptions:e,domain:i,link:n,onClick:a})=>{var l;const t=null===(l=(0,We.lO)())||void 0===l?void 0:l.logging,o=(0,g.ZP)(),r=(0,d.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((i=>({component:0,element:162,view_type:null==t?void 0:t.viewType,view_parameter:null==t?void 0:t.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,Y.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>r(e))),a(e)},children:(0,Y.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,Y.jsx)(s.xu,{marginEnd:1,children:(0,Y.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:o.bt("Link", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,Y.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),c().forEach((e=>r(e))),a(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,Y.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,Ve.Z)(i,27)})})]})})},Je=({domainLinkData:e})=>{const i=(0,g.ZP)(),n=(0,u.g)();return(0,Y.jsxs)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,Y.jsx)(s.X6,{size:"400",align:"center",color:"light",children:i.bt("Open", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,Y.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,Y.jsx)($e,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var Ge,Ye=n(328398),Qe=n(836153),Xe=n(880254),ei=n(238117);const ii=void 0!==Ge?Ge:Ge=n(182964),ni=({width:e,height:i,minY:n,maxY:a})=>{const l=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":l(-1*n*i),bottom:a>=1?"0%":l(-1*(1-a)*i)}},ai=({children:e,margin:i,disableRounding:n})=>(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,Y.jsx)(s.zd,{wash:!0,rounding:n?0:fe.mv,children:e})}),li=({clientTrackingParams:e,color:i,data:n,description:a,domainLinkData:t,image:o,imageAltText:d,imageCrop:u,isBoardIdeas:p,isOneTapExploreLocalTab:m,isSquarePin:_,lazyLoadImage:h,onError:v,oneTapSave:y,onLoad:f,pinId:x,priorityFetchImage:b,disableDefaultContextMenu:k,pinnedToBoardId:w,productPrice:S,disableRounding:T,storyDataExists:j,title:A,type:L,videoDuration:z,viewType:M,slotIndex:R})=>{var K,U,N,E,Z,O,B,q,H,W,$,J;const G=(0,g.ZP)(),Q=(0,xe.Z)(),{checkExperiment:X}=(0,P.F)(),[ee,ie]=(0,l.useState)(!1),{isAuthenticated:ne}=(0,I.B)(),ae=(0,F.ZP)(),le="desktop"===ae,te=(0,ze.M)(),oe=w&&!(null==te||!te.isSaved(x)),re=t&&t.link?"with-link":"without-link",se=!ne&&!le,de=(0,l.useRef)(Date.now()),ce=(0,l.useRef)(null),ue=(0,C.Z)(),{shouldOpenInStream:pe}=n,me=(0,ei.I)();(0,l.useEffect)((()=>{ee&&!ne&&ue({action:"view",item:"unauth-video-autoplay-on-hover"})}),[ee,ue,ne]),(0,l.useEffect)((()=>{var e,i;const n="board-image-preload-"+(R-1),a=null!==(e=null===(i=document.getElementById(n))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";me&&5===M&&a&&(0,Xe.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:ne,deviceType:ae,isEqual:a===o.url}})}),[]);const _e=(0,Y.jsx)(he.Z,{alt:d||A||a||"",color:i,naturalHeight:null!==(K=o.height)&&void 0!==K?K:1,naturalWidth:null!==(U=o.width)&&void 0!==U?U:1,onError:v,onLoad:f,src:null!==(N=o.url)&&void 0!==N?N:"",fit:_?"cover":void 0,loading:h?"lazy":"auto",fetchPriority:b?"high":"auto"}),ge=(0,r.useLocation)(),ve=()=>(0,V.C$)(ge)?"homefeed":(0,V.L6)(ge)?"related_pins":(0,V.En)(ge)?"search":"unknown";return(0,Y.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,Y.jsxs)(s.xu,{onContextMenu:e=>{if("desktop"!==ae){const i=ve();(0,D.My)((ne?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),ne||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ae&&((0,D.My)("unauth.mweb.related_pin.image.touch.start"),!ne&&(null==k||k(),de.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const i=e.changedTouches.item(0);i&&(ce.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==ae){const i=ve();if((0,D.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-de.current>500&&!ne&&("related_pins"===i||X("pcons_enable_context_menu_all_feeds").anyEnabled)){const i=ce.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-i.x,2)+Math.pow(n.pageY-i.y,2)>100)return;null==k||k(),Q({pinId:x,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${L}-${re}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:se||X("prevent_open_on_hover").anyEnabled?void 0:()=>ie(!0),onMouseLeave:se?void 0:()=>ie(!1),position:"relative",rounding:T?0:4,children:[(0,Y.jsxs)(Be,{clientTrackingParams:e||"",oneTapSave:y,isBoardIdeas:p,isOneTapExploreLocalTab:m,pinId:x,pinnedToBoardId:w,viewType:M,children:[(()=>{if("gif"===L&&!oe)return(0,Y.jsx)(Ye.Z,{text:G.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===L&&z&&!oe)return(0,Y.jsx)(Ye.Z,{text:z});if("storyPin"===L&&j&&!oe&&!1!==pe){var e,i,a;const l=(null===(e=n.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(i=n.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,o=(null===(a=n.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(o>0){const e=o+t*ye.oN;return(0,Y.jsx)(Ye.Z,{text:(0,c.Z)(e)})}if("number"==typeof l&&l>0)return(0,Y.jsx)(Ye.Z,{icon:"idea-pin",text:l.toString()})}return"product"===L&&S?(0,Y.jsx)(Ye.Z,{text:S}):null})(),(0,Y.jsx)(ai,{disableRounding:T,margin:u?ni({width:null!==(E=o.width)&&void 0!==E?E:1,height:null!==(Z=o.height)&&void 0!==Z?Z:1,minY:u.minY,maxY:u.maxY}):void 0,children:_?(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,Y.jsx)(s.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:_e})}):_e})]}),ee&&!ne&&(0,Y.jsx)(Je,{domainLinkData:t}),ne&&oe&&(0,Y.jsx)(He,{boardName:null!==(O=null===(B=n.board)||void 0===B?void 0:B.name)&&void 0!==O?O:"",boardUrl:null!==(q=null===(H=n.board)||void 0===H?void 0:H.url)&&void 0!==q?q:"",sectionName:null==y||null===(W=y.section)||void 0===W?void 0:W.title,sectionSlug:null==y||null===($=y.section)||void 0===$?void 0:$.slug,isQuicksave:"quick_saves"===(null===(J=n.board)||void 0===J?void 0:J.layout)})]})})},ti=(0,ve.Z)({useGraphQLAdapter:e=>{const i=(0,o.useFragment)(ii,e);return{pin:i,pinGraphqlRef:i}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var n;const a=(0,Qe.S6)()(e),l=(0,J.gC)();if(!a)return null;const t=l(i||String(null===(n=a.board)||void 0===n?void 0:n.id));return{pin:{board:t&&{layout:t.layout,name:t.name,url:t.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{pageCount:a.story_pin_data.page_count,staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),oi=e=>(0,Y.jsx)(ti,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,Y.jsx)(li,{...e,data:i.pin,pinGraphqlRef:i.pinGraphqlRef})});var ri=n(257877);const si={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},di=(e,i,n)=>(0,Y.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:n})},e);function ci({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:t}){const o=(0,g.ZP)(),[r,d]=(0,l.useState)(a?"fadeIn":"initial"),c=(0,l.useRef)(null);(0,l.useEffect)((()=>("initial"===r&&a&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[r,d,a]);const{subTitle:u,title:p,unfollow:m}=i(di);let _=p,h=u;m&&t&&(_=m.title,h=m.subTitle);const v=()=>m?(0,ri.t)(m.action,m.actionOptions,n):void 0;return a&&(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...si[r]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,Y.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,Y.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,Y.jsxs)(s.xu,{children:[(0,Y.jsx)(s.X6,{size:"400",color:"light",children:_}),!!h&&(0,Y.jsxs)(s.xu,{marginTop:1,children:[(0,Y.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:h}),(0,Y.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:o.bt("Tune your home feed", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!t&&m&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:o.bt("Unfollow", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:v})})]}),!t&&m&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:o.bt("Unfollow", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:v})})]})})}var ui=n(36460),pi=n(975323);function mi({maxRating:e,rating:i,text:n}){return(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,Y.jsx)(pi.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,Y.jsx)(l.Fragment,{children:(0,Y.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}var _i,gi=n(54978),hi=n(8420);const vi=void 0!==_i?_i:_i=n(937711);function yi({dedupeVisualAnnotations:e,description:i,gridTitle:n,pinId:a,richMetadataTitle:l,richSummaryDisplayName:t,storyPinDataId:r,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,o.useFragment)(vi,u);return(0,Y.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,Y.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,k.fs)({pinTitle:c,gridTitle:n,richSummaryDisplayName:t,richMetadataTitle:l,storyPinDataId:r,storyPinDataMetadataPinTitle:d})||i})}),(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(hi.Z,{pinId:a,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var fi,xi=n(389416),bi=n(974865);const ki=void 0!==fi?fi:fi=n(143453),Pi=({attribute:e,deviceType:i,location:n})=>{const a=(0,C.S)(n);(0,D.My)("unauth.product_attribution.click",{item:e,page:a,device:i})},wi=({isSquarePin:e,price:i,shouldDisplayMerchant:n})=>i&&e?n?90:68:void 0,Si=({maxPrice:e,minPrice:i,price:n})=>e&&i?`${i}-${e}`:n;function Ii({dedupeVisualAnnotations:e,description:i,domain:n,graphqlRef:a,gridTitle:t,isSquarePin:o,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:m,storyPinDataMetadataPinTitle:_,title:g}){const h=(0,F.ZP)(),v=(0,r.useLocation)(),y=c&&(c.price||c.standardPrice||Si(c)),f=(0,l.useMemo)((()=>o?2:y?3:2),[o,y]);if(!d)return null;const x=(0,k.fs)({pinTitle:g,gridTitle:t,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:m,storyPinDataMetadataPinTitle:_})||i,b=`/pin/${d}/`;return(0,Y.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:wi({isSquarePin:o,price:y}),children:(0,Y.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsxs)(K.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[y&&(0,Y.jsx)(s.iP,{onTap:()=>Pi({deviceType:h,attribute:"price",location:v}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",children:y})}),(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>Pi({deviceType:h,attribute:"title",location:v}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),n&&y&&(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>Pi({deviceType:h,attribute:"merchant",location:v}),children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}),"desktop"!==h&&(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(hi.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:a})})]})})}const Ti=(0,ve.Z)({useGraphQLAdapter:({queryRef:e})=>(0,o.useFragment)(ki,e),useLegacyAdapter:()=>null});function ji({queryRef:e,...i}){return(0,Y.jsx)(Ti,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,Y.jsx)(Ii,{...i,graphqlRef:e})})}var Ai,Di=n(359187);const Ci=void 0!==Ai?Ai:Ai=n(256468),Li=({isDesktop:e})=>e?0:1,Fi=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),zi=e=>{const{attribution:i,embed:n,isEligibleForWebCloseup:a,richSummary:l,videos:t,storyPinDataId:o}=e,r=n||(null==i?void 0:i.embed);return a?"oneTap":t||"video"===(null==r?void 0:r.type)?"video":"gif"===(null==r?void 0:r.type)?"gif":"product"===(null==l?void 0:l.typeName)?"product":"recipe"===(null==l?void 0:l.typeName)?"recipe":o?"storyPin":"image"},Mi=e=>{var i,n,a;const l=null===(i=e.videos)||void 0===i?void 0:i.videoList;return l?(0,c.Z)(null!==(n=null===(a=l[Object.keys(l)[0]])||void 0===a?void 0:a.duration)&&void 0!==n?n:0):""},Ri=e=>{var i;const[n]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!n)return null;const{offerSummary:a}=n;return a&&(a.price||a.maxPrice)},Ki=e=>e&&e.includes("/user/default")?void 0:e,Ui=(0,l.lazy)((()=>Promise.all([n.e(52378),n.e(74686),n.e(67589)]).then(n.bind(n,869209))));function Ni({auxData:e,componentType:i,debugInfo:n,disableAppUpsell:a,disableReaction:o,disableRounding:c,duploConversationPin:_,duploDedupeVisualAnnotations:L,duploDisablePinCardPadding:H,duploFeedItemProps:W,duploIsSquarePin:V,duploLazyLoadImage:$,duploOneTapSave:J,duploPinCardDetailsMargin:G,duploPriorityFetchImage:Q,duploQueryRef:X,duploShouldAddNiiSearchParamToImageUrls:ee,duploShouldAllowProductPriceIndicator:ie,feedback:ne,imageOnlyOption:ae,impressionData:le,objectIdStr:te,pin:oe,slotIndex:re,topLevelTrafficSource:se,topLevelTrafficSourceDepth:ce,trackingParams:ue,trafficSource:pe,viewData:me,viewParameter:_e,viewType:he}){var ve,ye,fe,xe,be,ke,Pe,we,Se,Ie,Te,je,Ae,De,Ce,Le;const Fe=(0,g.ZP)(),ze=(0,u.g)(),Me=(0,r.useLocation)(),Re=(0,F.HG)(),Ke=(0,q.Z)(),Ue=(0,w.yz)(),Ne=(0,m._)({id:1000107}),Ee=(0,d.Z)(),Ze=(0,C.Z)(),{country:Oe,isAuthenticated:Be,isBot:qe,isSocialBot:He}=(0,I.B)(),{viewedSharedPins:We}=(0,t.useSelector)((({session:e})=>e)),Ve=(0,t.useSelector)((({experiences:e})=>{const i=e[1000107];return!!i&&500678===i.experience_id})),$e=(0,t.useSelector)((({session:e,users:i})=>(0,v.Z)(i[e.userId].created_at))),{getPinFeedbackStatus:Je,setPinFeedbackStatus:Ge}=(0,ui.K)(),[Ye,Qe]=(0,l.useState)(!1),[Xe,ei]=(0,l.useState)(!1),ii=(0,l.useRef)(),ni=(0,y.t)(),ai=oe.entityId,li=!!oe.storyPinDataId&&!1===oe.shouldOpenInStream,ti=e=>ee&&e?{...e,url:e.url&&(0,j.H5)(e.url)}:e,ri=ti(oe.imageSpec_136x136),si=ti(oe.imageSpec_170x),di=ti(oe.imageSpec_236x),pi=ti(oe.imageSpec_474x),_i=ti(oe.imageSpec_736x),hi=ti(oe.imageSpec_orig),vi={...[["136x136",ri],["170x",si],["236x",di],["474x",pi],["736x",_i],["orig",hi]].reduce(((e,[i,n])=>{var a,l,t,o;return n?(e[i]={dominant_color:null!==(a=n.dominantColor)&&void 0!==a?a:void 0,height:null!==(l=n.height)&&void 0!==l?l:void 0,url:null!==(t=n.url)&&void 0!==t?t:void 0,width:null!==(o=n.width)&&void 0!==o?o:void 0},e):e}),{})},{checkExperiment:fi}=(0,P.F)(),ki=Be?fi("web_auth_exclude_original_images").anyEnabled:fi("web_unauth_exclude_original_images").anyEnabled,Pi=e=>{var i,n;return(0,x.Z)({embedSrc:null===(i=oe.embed)||void 0===i?void 0:i.src,embedType:null===(n=oe.embed)||void 0===n?void 0:n.type,images:vi,preferredResolution:e,excludeOriginals:!qe&&!He&&ki})},wi=zi(oe),Si=(0,M.z)();(0,z.Z)((()=>{if(Si&&!Re&&"image"===wi){const e=vi["236x"]||vi["136x136"],i=Pi("736x");i&&Si.setData(ai,{dominantColor:oe.dominantColor,imageUrl:i,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}})),(0,z.Z)((()=>{if(!Be&&0===re&&3070===_e){var e,i,n;const a=Me.pathname,{imageSignature:l,entityId:t,imageSpec_236x:o,description:r}=oe;(0,B.H$)(a,l,t,o&&{dominant_color:null!==(e=o.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=o.height)&&void 0!==i?i:void 0,url:o.url,width:null!==(n=o.width)&&void 0!==n?n:void 0},r)}}));const Ii=92===_e&&(null===(ve=We&&We[ai])||void 0===ve?void 0:ve.inviteCode),Ti=V?{height:136,url:null==di?void 0:di.url,width:136}:[di,si,ri,_i,pi,hi].find((e=>e&&e.url))||{width:1,height:1,url:""},Ai=null===(ye=oe.videos)||void 0===ye||null===(fe=ye.videoList)||void 0===fe?void 0:fe.v720P,Ci=(0,N.Z)({isEligibleForPdp:oe.isEligibleForPdp,isOosProduct:oe.isOosProduct,isStaleProduct:oe.isStaleProduct,pinShoppingFlags:null!==(xe=oe.shoppingFlags)&&void 0!==xe?xe:void 0}),Ni=Je({pinId:ai}),Ei=Fi(oe),Zi=!!(oe.isEligibleForPdp&&oe.nativeCreator&&!Ei)&&fi("web_hide_product_attribution").anyEnabled,Oi=()=>{var e,i,n,a,l,t,o;const r=({user:e,linkToBoard:i})=>{var n;return{link:i?(null===(n=oe.board)||void 0===n?void 0:n.url)||`/pin/${oe.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:Ki(null==e?void 0:e.imageMediumUrl)||Ki(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,m,_;if(Fi(oe))return oe.sponsorship&&(null===(s=oe.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=oe.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=oe.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=oe.promoter)||void 0===u?void 0:u.fullName,...r({user:oe.nativeCreator})}:{title:Fe.bt("Promoted by", "Promoted by", "Grid pin annotation", undefined, true),subtitle:null===(p=oe.promoter)||void 0===p?void 0:p.fullName,...r({user:oe.promoter})};if(null!==(e=oe.sponsorship)&&void 0!==e&&e.creator)return{title:null===(m=oe.nativeCreator)||void 0===m?void 0:m.fullName,subtitle:null===(_=oe.sponsorship.sponsor)||void 0===_?void 0:_.fullName,...r({user:oe.nativeCreator})};if(!Zi||!oe.isEligibleForPdp){if(oe.nativeCreator)return{title:oe.nativeCreator.fullName,subtitle:"",...r({user:oe.nativeCreator})};switch(_e){case 3375:if(null===(i=oe.linkDomain)||void 0===i||null===(n=i.officialUser)||void 0===n||!n.isPrimaryWebsiteVerified)return;const e=null!==(a=oe.storyPinData)&&void 0!==a&&a.hasProductPins?oe.nativeCreator:oe.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...r({user:e})};case 0:case 3173:return null!==(l=oe.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(t=oe.nativeCreator)||void 0===t?void 0:t.fullName,...r({user:oe.nativeCreator,linkToBoard:!0})}:{title:oe.board&&"protected"===oe.board.privacy?Fe.bt("Saved by", "Saved by", "Grid pin annotation", undefined, true):(null===(o=oe.pinner)||void 0===o?void 0:o.fullName)||"",subtitle:"",...r({user:oe.pinner,linkToBoard:!0})};default:return}}},Bi=(0,f.hP)({boardFollowedByMe:!(null===(be=oe.board)||void 0===be||!be.followedByMe),feedbackType:null==ne?void 0:ne.type,viewParameter:_e,promotion:oe&&oe.promoter&&{isDownstreamPromotion:!!oe.isDownstreamPromotion},pinnerFollowedByMe:!(null===(ke=oe.pinner)||void 0===ke||!ke.explicitlyFollowedByMe),recommendationReason:oe.recommendationReason&&{hasBoard:!!oe.recommendationReason.board,reason:null!==(Pe=oe.recommendationReason.reason)&&void 0!==Pe?Pe:void 0}}),qi=e=>{var i,n,a;const l={i18n:Fe,makeNavigateLink:e};switch(Bi){case"pfy":return(0,f.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,f.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=oe.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(n=oe.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(a=oe.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,f.Ud)({...l,feedback:{type:"topic",sourceInterest:oe.sourceInterest&&oe.sourceInterest.name&&oe.sourceInterest.urlName?{name:oe.sourceInterest.name,url_name:oe.sourceInterest.urlName}:null}});case"followed":return(0,f.Ud)({...l,feedback:{type:"followed",followed:oe.pinner&&oe.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:oe.pinner.fullName&&oe.pinner.username?{full_name:oe.pinner.fullName,username:oe.pinner.username}:null}:{type:"board",board:oe.board&&oe.board.name&&oe.board.url?{name:oe.board.name,url:oe.board.url}:null}}});case"promoted":return(0,f.Ud)({...l,feedback:{type:"promoted",promoter:!oe.adMatchReason&&oe.promoter&&oe.promoter.fullName?{full_name:oe.promoter.fullName,username:oe.promoter.username}:null}});default:return null}},{category:Hi,linkDomain:Wi,description:Vi,gridTitle:$i,imageSignature:Ji,richMetadata:Gi,richSummary:Yi,title:Qi,sponsorship:Xi,storyPinData:en}=oe,[nn,an]="string"==typeof $i?[$i,""]:[null==Yi?void 0:Yi.displayName,Vi],ln=null==en?void 0:en.isDeleted,tn=(0,E.Z)((Me&&Me.state||{}).trackingParams||ue,oe.trackingParams),on="product"===wi&&!Be,{experimentsClient:rn}=(0,I.B)(),sn=Ve&&!(3375===_e)&&(rn.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||rn.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),dn=Ve&&!(Yi&&43===_e&&!$e||3375===_e)||sn;let cn=null===(we=oe.pinJoin)||void 0===we?void 0:we.visualAnnotation;L&&cn&&(cn=L({pinId:ai,visualAnnotations:cn}));const un=(0,k.rw)(null!==(Se=oe.description)&&void 0!==Se?Se:"",oe.descriptionHtml||"",cn,oe.altText||"",oe.autoAltText||""),pn=Be?an:(0,b.Z)({storyPinDataId:oe.storyPinDataId,pinDescription:oe.description,richMetadataDescription:null!==(Ie=null===(Te=oe.richMetadata)||void 0===Te?void 0:Te.description)&&void 0!==Ie?Ie:"",richSummaryDisplayName:null!==(je=null===(Ae=oe.richSummary)||void 0===Ae?void 0:Ae.displayName)&&void 0!==je?je:"",closeupDescription:null!==(De=oe.closeupDescription)&&void 0!==De?De:"",closeupUnifiedDescription:null!==(Ce=oe.closeupUnifiedDescription)&&void 0!==Ce?Ce:""});let mn;mn="oneTap"===wi?oe.trackedLink||oe.link:Be?(0,k.BY)(ai):(0,k.bN)({pinId:ai,seoUrl:oe.seoUrl});const _n={accessibilityLabel:un||nn||an||Fe.bt("Pin", "Pin", "Pin accessibility label", undefined, true),country:Oe,deeplinkUri:mn,external:"oneTap"===wi,externalQueryParams:{pin:ai,client_tracking_params:ue},isAppUpsellDisabled:a,onTouch:n=>{var a;if((()=>{const n=(0,E.Z)(ue,oe.trackingParams);if((0,D.My)(`unauth_pin_rep.click.${String(_e)}`),Ee({view_type:he,view_parameter:_e,element:oe.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ai,clientTrackingParams:n,aux_data:{commerce_data:Ci,grid_index:re,image_signature:oe.imageSignature,...e}}),"oneTap"!==wi&&Ee({event_type:8948,view_type:he,view_parameter:_e,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:oe.imageSignature,commerce_data:Ci,closeup_navigation_type:"click",grid_index:re,cosmic_ray_count:"3",...e}}),!Be)switch(Ze({action:"click",item:"pin"}),he){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image");break;case 605:(0,D.NC)("click_shopping_category_pin_image");break;case 606:(0,D.NC)("click_videos_category_pin_image")}if("oneTap"===wi&&(Ee({event_type:8948,view_type:he,view_parameter:_e,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:oe.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,O.jC)({view_type:he,view_parameter:_e,element:oe.storyPinDataId?12372:35,component:i,object_id_str:ai,aux_data:{commerce_data:Ci,grid_index:re,image_signature:oe.imageSignature,...e},clientTrackingParams:n}),Ee({component:i,event_type:13,view_type:3,clientTrackingParams:n,aux_data:{closeup_navigation_type:"web_closeup",image_signature:oe.imageSignature},object_id_str:ai}),fi("m10n_ara_click_web_mobile").anyEnabled)){const{adDestinationUrl:i,link:a,trackedLink:l}=oe,t=i||l||a||"";ni({attributionSourceId:oe.attributionSourceId,auxData:e,campaignId:oe.campaignId,clientTrackingParams:n,href:t,isPromoted:Fi(oe),pinId:ai,pinPromotionId:oe.pinPromotionId})}})(),null==W||null===(a=W.onPinClick)||void 0===a||a.call(W),Re){const e=494===he;if(n.metaKey||e)(0,D.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(_e)}`),n.preventDefault(),window.open(`/pin/${ai}/`,"_blank").focus();else if(!Be&&ze){const{pinImageClickHandler:e}=ze;e({event:n,pinId:ai,linkTarget:"duploClientNav",seoUrl:oe.seoUrl})}}else if(!Be&&((0,D.My)("unauth_mweb_pin_rep.click",{viewType:he}),[3,2].includes(he))){const{group:e}=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!e)return;let i=!1;switch(he){case 3:(e.includes("view_type_closeup")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(e.includes("view_type_search")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,D.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:he,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:e,enabled:i}),i&&(n.preventDefault(),n.stopPropagation(),window.open(mn,"_blank").focus())}},pinCategory:oe.category,pressState:"none",rounding:4,title:Fe.bt("See this Pin", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:mn,state:{trackingParams:ue,trafficSource:pe,topLevelTrafficSource:se,topLevelTrafficSourceDepth:ce}},upsellType:"direct",viewParameter:_e,viewType:he,clientTrackingParams:tn},gn=(0,Z.kb)({hasLinkDomain:!!Wi,richMetadata:Gi&&{recipe:Gi.recipe&&{fromAggregatedData:Gi.recipe.fromAggregatedData},products:Gi.products},richSummary:Yi&&{products:Yi.products}}),hn=!ie&&["shop_feed"].includes(pe);return(0,Y.jsx)(U.dL,{auxData:{commerce_data:Ci,pwa_type:Ue,...e},component:i,impressionData:{richTypes:oe.shoppingFlags||[],imageURL:Ti.url||"",...Ai?{isNativeVideoAndWatchable:!!(Ai&&Ai.url&&Ai.height&&Ai.width)||void 0,videoIdStr:Ai&&(null===(Le=oe.videos)||void 0===Le?void 0:Le.entityId)||void 0}:{},...le},isPaused:!Ye,loggingId:oe.entityId,objectIdStr:te,slotIndex:re,trackingParams:ue,viewData:me,viewParameter:_e,viewType:he,children:({impressionTrackerRef:e})=>{var a,t,r,d,u,m,g,v,y,x,b,k,P,w,I,j,C,F,z,M,U,N,Z,O,B,q,ee,le;return(0,Y.jsx)(s.xu,{ref:e,children:(0,Y.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":ai,marginBottom:Re?0:2,children:[(0,Y.jsxs)(s.xu,{"data-test-id":un||nn||an?"pin-with-alt-text":"pin-missing-alt-text",padding:H?0:Li({isDesktop:Re}),marginBottom:0,onContextMenu:Re&&(oe.nativeCreator||oe.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Ke((0,Y.jsx)(bi.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:ai,graphqlRef:X})),(0,D.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:Xe?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,Y.jsxs)(K.MZ,{..._n,children:[!!Ii&&(0,Y.jsx)(ge,{inviteCode:Ii}),ln?(0,Y.jsx)(xi.Z,{isPinRep:!0}):(0,Y.jsx)(oi,{pinGraphqlRef:X,clientTrackingParams:tn,color:null!==(a=oe.dominantColor)&&void 0!==a?a:"",description:!an||dn&&0!==_e?void 0:an.trim(),domainLinkData:oe.domain&&oe.link?{clickLoggingOptions:{auxData:{objectId:ai,grid_index:re,sanitized_url:oe.link}},domain:oe.domain,link:oe.link,onClick:null==W?void 0:W.onPinLinkClick}:void 0,disableRounding:c,image:Ti&&{dominant_color:null!==(t=Ti.dominantColor)&&void 0!==t?t:void 0,height:null!==(r=Ti.height)&&void 0!==r?r:void 0,url:null!==(d=Ti.url)&&void 0!==d?d:void 0,width:null!==(u=Ti.width)&&void 0!==u?u:void 0},imageAltText:un,imageCrop:oe.imageCrop&&"number"==typeof oe.imageCrop.minY&&"number"==typeof oe.imageCrop.maxY?{minY:oe.imageCrop.minY,maxY:oe.imageCrop.maxY}:void 0,isBoardIdeas:3173===_e||13184===i,isSquarePin:V,lazyLoadImage:$,onError:()=>Qe(!1),oneTapSave:J,onLoad:()=>Qe(!0),priorityFetchImage:Q,disableDefaultContextMenu:()=>ei(!0),pinId:ai,pinnedToBoardId:null!==(m=null===(g=oe.pinnedToBoard)||void 0===g?void 0:g.entityId)&&void 0!==m?m:"",productPrice:"product"===wi&&ie&&!on?Ri(oe):null,slotIndex:re,storyDataExists:!!en,title:dn&&0!==_e?void 0:nn,type:wi,videoDuration:Mi(oe),viewType:he})]}),"image-only"!==ae&&(Be||Re)&&(0,Y.jsxs)(s.xu,{children:[!Be&&Re&&3475!==_e&&43!==_e&&(0,Y.jsx)(Di.Z,{dedupeVisualAnnotations:L,pinId:ai,mode:"inlineWithScrollArrows",graphqlRef:X}),!on&&(0,Y.jsxs)(s.xu,{position:"relative",children:[(0,Y.jsx)(K.MZ,{..._n,children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,Y.jsx)(s.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:_n.accessibilityLabel,children:(0,Y.jsxs)(s.xu,{display:"flex",height:V?hn?104:72:void 0,marginEnd:G||1,marginStart:G||1,position:"relative",children:[(0,Y.jsx)(de,{pinGraphqlRef:X,marginTop:G,hidePinMetadata:(null==Ne?void 0:Ne.display_data.hideDesc)||!1,credits:Oi(),hasAffiliatedProducts:!(null==en||!en.hasProductPins),isPromotedPin:Ei,isSponsoredPin:!!Xi,logCreditsClick:()=>{var e;return Ee({view_type:3,element:27,event_type:102,object_id_str:ai,component:oe.storyPinDataId?230:void 0,clientTrackingParams:(0,E.Z)(ue,oe.trackingParams),aux_data:{pin_id:ai,...null!==(e=oe.sponsorship)&&void 0!==e&&e.creator&&oe.sponsorship.sponsor?{creator_id:oe.sponsorship.creator.entityId,sponsor_id:oe.sponsorship.sponsor.entityId}:{}}})},pinDescription:pn,pinId:ai,pinnedToBoardId:null!==(v=null===(y=oe.pinnedToBoard)||void 0===y?void 0:y.entityId)&&void 0!==v?v:"",pinReactionCounts:null===(x=oe.reactionCountsData)||void 0===x?void 0:x.reduce(((e,{reactionCount:i,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=i?i:0})),{}),recipeReview:"recipe"===wi&&!dn&&!(null==Yi||null===(b=Yi.aggregateRating)||void 0===b||!b.reviewCount)&&(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,Y.jsx)(mi,{maxRating:Yi.aggregateRating.bestRating||"",rating:Yi.aggregateRating.ratingValue||"",text:""}),!!Yi.displayCookTime&&(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(s.xu,{paddingX:1,children:(0,Y.jsx)(s.xv,{size:"100",children:"·"})}),(0,Y.jsx)(s.xv,{size:"100",children:(0,R.IS)({...(0,S.u)(Yi.displayCookTime),i18n:Fe})})]})]}),shouldShowReactions:!o&&(0,gi.J6)({boardIsCollaborative:null===(k=oe.board)||void 0===k?void 0:k.isCollaborative,isDownstreamPromotion:oe.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:li,isPromoted:oe.isPromoted,storyPinDataId:oe.storyPinDataId,videosId:null===(P=oe.videos)||void 0===P?void 0:P.entityId})&&3475!==_e&&606!==he&&!(Ne&&Ne.display_data.hideReactions),showPriceIndicatorInPinCardDetails:hn,title:nn,type:wi}),(0,Y.jsx)(s.xu,{right:!0,children:!Be||sn||ln||_?null:(0,Y.jsx)(s.xu,{marginStart:1,marginTop:G,children:(0,Y.jsx)(s.xu,{height:26,width:24,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,Y.jsx)(T.Z,{children:(0,Y.jsx)(Ui,{adMatchReason:oe.adMatchReason,bestPinImgSrc:Pi(),feedback:ne,feedbackType:Bi,getRecommendationDescription:qi,graphqlRef:X,hideSaveOption:null!==(w=oe.promotedIsRemovable)&&void 0!==w&&w,imageSignature:null!=Ji?Ji:void 0,isAdsOnlyPin:null!==(I=oe.promotedIsRemovable)&&void 0!==I&&I,pinCategory:Hi,pinDescription:pn,pinId:ai,pinTitle:Qi,sourceType:Ei?"ad":0===_e?"following":void 0,viewParameter:_e,viewType:he,trackingParams:ue})})})})})})]})})]})]}),on&&(0,Y.jsx)(ji,{dedupeVisualAnnotations:L,queryRef:X,description:oe.description,domain:null===(j=oe.richSummary)||void 0===j?void 0:j.siteName,isSquarePin:V,gridTitle:null!==(C=oe.gridTitle)&&void 0!==C?C:void 0,pinId:ai,priceSummary:gn&&{maxPrice:gn.maxPrice,minPrice:gn.minPrice,price:gn.price,standardPrice:gn.standardPrice},richMetadataTitle:null===(F=oe.richMetadata)||void 0===F?void 0:F.title,richSummaryDisplayName:null===(z=oe.richSummary)||void 0===z?void 0:z.displayName,storyPinDataId:oe.storyPinDataId,storyPinDataMetadataPinTitle:null===(M=oe.storyPinData)||void 0===M||null===(U=M.metadata)||void 0===U?void 0:U.pinTitle,title:oe.title})]}),"reported"===Ni?(0,Y.jsx)(ci,{color:null!==(N=oe.dominantColor)&&void 0!==N?N:"",getFeedbackText:()=>({title:Fe.bt("Reported", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:Fe.bt("Thanks! Your feedback helps us keep the Pinterest community safe.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:ai,showing:!0}):(0,Y.jsx)(ci,{color:null!==(Z=oe.dominantColor)&&void 0!==Z?Z:"",getFeedbackText:e=>{const{promoter:i}=oe;if(Fi(oe)&&null!=i&&i.fullName)return{title:"",subTitle:(0,h.nk)(Fe.bt("{{ promoter }} has paid for this Pin to appear where you'd be more likely to notice it.", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:i.fullName})};let n;switch(Bi){case"followed":const{board:i,pinner:a}=oe;i&&a&&(n=(0,f.oK)({boardId:i.entityId,i18n:Fe,makeNavigateLink:e,display:a.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:a.fullName,username:a.username}}}));break;case"topic":const{sourceInterest:l}=oe;l&&(n=(0,f.Iv)({i18n:Fe,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return n?{title:Fe.bt("Pin hidden", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:qi(e),unfollow:n}:{title:Fe.bt("Pin hidden", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Fe.bt("Got it! We'll try to show you more relevant Pins in the future.", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}},onUnfollow:()=>Ge({pinId:ai,pinFeedbackStatus:"unfollowed"}),pinId:ai,showing:!!Ni,unfollowed:"unfollowed"===Ni,viewParameter:_e,viewType:he}),!Re&&(null==W?void 0:W.showSeoMetadata)&&!on&&(0,Y.jsx)(A.Z,{id:"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{Ze({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,Y.jsx)(yi,{dedupeVisualAnnotations:L,description:oe.description,gridTitle:null!==(O=oe.gridTitle)&&void 0!==O?O:void 0,pinId:ai,richMetadataTitle:null===(B=oe.richMetadata)||void 0===B?void 0:B.title,richSummaryDisplayName:null===(q=oe.richSummary)||void 0===q?void 0:q.displayName,storyPinDataId:oe.storyPinDataId,storyPinDataMetadataPinTitle:null===(ee=oe.storyPinData)||void 0===ee||null===(le=ee.metadata)||void 0===le?void 0:le.pinTitle,title:oe.title,queryRef:X})})}),n]})})}})}const{usePinData:Ei}=(0,_.x0)(Ci,{useLegacyAdapter:e=>{var i,n,a,l,t,o,r,s,d,c,u,p;if(!e)return null;const m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},_=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},g=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:_(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:_(null===(n=e.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:_(null===(a=e.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:_(null===(l=e.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:_(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:_(null===(o=e.images)||void 0===o?void 0:o.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(r=e.link_domain.official_user.id)&&void 0!==r?r:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:g&&Object.keys(g).map((e=>({reactionType:Number(e),reactionCount:g[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var i,n,a,l;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var i,n,a,l;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(c=e.sponsorship.creator.id)&&void 0!==c?c:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(u=e.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}}});function Zi({pinId:e,duploQueryRef:i,...n}){const a=(0,L.Qy)(),[l,t]=Ei(i?{graphqlRef:i}:e);return!!l&&(0,Y.jsx)(Ni,{...n,debugInfo:a&&l.debug&&(0,Y.jsx)(L.Wu,{data:l.debug}),pin:l,duploQueryRef:t})}},328398:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(883119),l=n(182833),t=n(434012),o=n(785893);function r({text:e,icon:i,largeIdentifier:n,largeMargin:r}){const s=(0,t.ZP)();return(0,o.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:r?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,o.jsx)(a.xu,{marginEnd:n?2:1,children:(0,o.jsx)(a.JO,{accessibilityLabel:s.bt("identifier that shows the Pin type", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,o.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},54978:(e,i,n)=>{function a(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function l(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function t({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:n,storyPinDataId:a,videosId:l,isEligibleForStaticImageIdeaPin:t}){return!(n||i||!l&&!a||null!=e&&e||t)}n.d(i,{At:()=>a,J6:()=>t,Ud:()=>l})},8420:(e,i,n)=>{n.d(i,{Z:()=>T});var a=n(667294),l=n(702664),t=n(167912),o=n(883119),r=n(127242),s=n(434012),d=n(260531),c=n(233423),u=n(780621),p=n(161452),m=n(287421),_=n(55592),g=n(182833),h=n(816987),v=n(7039),y=n(785893);function f({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:n,children:a}){const l=(0,s.ZP)(),t=(0,_.HG)(),r=(0,_.Wb)();return r||t?(0,y.jsx)(h.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,y.jsx)(o.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:t?"100vw":"100%",zIndex:new o.Ry(1),children:(0,y.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:a})})}):(0,y.jsx)(v.default,{accessibilityModalLabel:l.bt("Close", "Close", "Close modal window", undefined, true),isOpen:i,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:l.bt("Close", "Close", "Close modal window", undefined, true),children:a})}var x,b=n(13288);const k=void 0!==x?x:x=n(599271);function P({dedupeVisualAnnotations:e,iconColor:i,size:n,isMainPin:t,isAuth:c,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:v,renderOnlyHiddenSEOContent:x=!1,graphqlRef:k}){const P=(0,s.ZP)(),w=(0,p.Z)(),{isBot:S}=(0,d.B)(),{unauthInterstitialDismissed:I}=(0,l.useSelector)((({session:e})=>e)),[T,j]=(0,a.useState)(!1),A=(0,_.HG)(),D=(0,_.Wb)(),C=(0,m.Z)(),L=!D&&!c,F=(0,y.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:L?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,y.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,y.jsx)(o.hU,{accessibilityLabel:P.bt("Cancel", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),j(!1),t&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,y.jsx)(o.xu,{marginBottom:L?0:8,children:(0,y.jsx)(o.xv,{align:L?"start":"center",weight:L?void 0:"bold",children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:L?null:P.bt("More information", "More information", "more information label", undefined, true)})})}),(0,y.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:v,queryRef:k})]});return x?(0,y.jsx)(o.xu,{display:"none",children:F}):(0,y.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,y.jsx)(o.hU,{accessibilityLabel:P.bt("See more", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=i?i:"gray",size:n||"md",onClick:({event:i})=>{i.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(t?"main_pin":"related_pins")),w({action:"click",item:"seo-vase-see-more-button"}),D||c?(j(!0),t&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):C({pinId:v||"",location:t?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,y.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:v,queryRef:k})})}}),S&&!A?(0,y.jsx)(o.xu,{display:T?"flex":"none",children:F}):(0,y.jsx)(f,{showFullScreenInfo:T,isOpen:T&&!D,interstitialUpsellDismissed:!!I,children:F}),D&&T&&(0,y.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:F})]})}function w(e){const i=(0,t.useFragment)(k,e.graphqlRef);return(0,y.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:i})}function S(e){return(0,y.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function I(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,y.jsx)(S,{...e})}function T(e){return e.graphqlRef?(0,y.jsx)(w,{...e}):e.lazyLoadAnnotations?(0,y.jsx)(I,{...e}):(0,y.jsx)(S,{...e})}},435915:(e,i,n)=>{n.d(i,{Z:()=>c,j:()=>s});var a=n(883119),l=n(434012),t=n(376410),o=n(835686),r=n(785893);const s=[0,2,3],d="Ad • ";function c({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:c,textColor:u}){const p=(0,l.ZP)(),m=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let _;i?_=(0,t.nk)(p.bt("Promoted by {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:n}):c||0===c?n&&!s.includes(c)?_=(0,t.nk)(p.bt("Paid partnership with {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:n}):2!==c&&(_=p.bt("Paid partnership", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(_=p.bt("Includes sponsored products", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const g=m&&!i&&d||"";return(0,r.jsxs)(a.xv,{color:u,size:"100",children:[g,(0,r.jsx)(t.r7,{text:_})]})}},359187:(e,i,n)=>{n.d(i,{Z:()=>P});var a,l=n(667294),t=n(167912),o=n(883119),r=n(434012),s=n(396681),d=n(301351),c=n(260531),u=n(593954),p=n(161452),m=n(836153),_=n(441706),g=n(785893);const h="\ndiv::-webkit-scrollbar {\n  display: none;\n}\n",v=void 0!==a?a:a=n(717988);function y({direction:e,handleClick:i,testId:n,isRTL:a}){const l=(0,r.ZP)(),t=(0,p.Z)(),s=a?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{t({action:"click",item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,g.jsx)(o.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(u.Z,{id:"board-pills-arrow",children:(0,g.jsx)(o.JO,{accessibilityLabel:l.bt("Scroll", "Scroll", "annotations.scrollArrow", undefined, true),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:i}){const[n,a]=(0,l.useState)(!1),t=(0,p.Z)();return(0,g.jsx)(o.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,g.jsx)(o.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,g.jsx)(o.rU,{display:"inlineBlock",tapStyle:"compress",href:i,rounding:8,onClick:()=>{t({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:n}){const a=(0,l.useRef)(null),[t,r]=(0,l.useState)(!1),[m,_]=(0,l.useState)(!1),v=(0,p.Z)(),{isRTL:x}=(0,c.B)();(0,l.useEffect)((()=>{const e=a.current,i=()=>{if("inlineWithScrollArrows"===n&&a.current){const e=a.current,i=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),l=i>4,t=i+e.clientWidth<n-4,o=x?t:l;r(x?l:t),_(o)}else r(!1),_(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[n,x]);const b=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&v({action:"click",item:"board-pills-arrow-button-right"});const n=a.current;if(!n)return;const l=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(l,0)},{annotationsWithLinks:k}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});return(0,g.jsx)(o.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(o.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:h}),m&&(0,g.jsx)(y,{direction:"left",handleClick:b("left"),testId:"left-scroll-arrow",isRTL:x}),(0,g.jsx)(o.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:a,children:k.map((({name:e,url:i})=>(0,g.jsx)(f,{name:e,url:i},i||e)))}),t&&(0,g.jsx)(u.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(y,{direction:"right",handleClick:b("right"),testId:"right-scroll-arrow",isRTL:x})})]})})}function b({dedupeVisualAnnotations:e,graphqlRef:i,mode:n,pinId:a}){var l;const o=(0,t.useFragment)(v,i),r=(0,_.Z)(o);let s=(null==o||null===(l=o.pinJoin)||void 0===l?void 0:l.visualAnnotation)||[];return e&&(s=e({pinId:a,visualAnnotations:s})),s.length<1?null:(0,g.jsx)(x,{mode:n,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:r||void 0})}function k(e){var i,n,a;const l=(0,m.S6)()(e.pinId);return((null==l||null===(i=l.pin_join)||void 0===i?void 0:i.visual_annotation)||[]).length<1?null:(0,g.jsx)(x,{mode:e.mode,pinJoinVisualAnnotation:null==l||null===(n=l.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==l||null===(a=l.pin_join)||void 0===a?void 0:a.annotations_with_links})}function P(e){return e.graphqlRef?(0,g.jsx)(b,{...e}):(0,g.jsx)(k,{...e})}},13288:(e,i,n)=>{n.d(i,{Z:()=>w});var a=n(667294),l=(n(167912),n(883119)),t=n(59674),o=n(434012),r=n(376410),s=n(639429),d=n(301351),c=n(260531),u=n(103619),p=n(593954),m=n(780621),_=n(161452),g=n(55592),h=n(69465),v=n(785893);function y({boardUrl:e,boardName:i,boardPrivacy:n,pinnerFullName:a,pinnerImageSmallUrl:t,pinnerImageLargeUrl:o}){const r=(0,g.HG)(),s=(0,_.Z)();if(!e||!i)return null;const d=e.split("/")[1],c=a||d,u=t||o;return(0,v.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,v.jsx)(l.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,m.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,v.jsx)(l.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,v.jsx)(l.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,v.jsx)(p.Z,{id:"see-more-button-creator-full-name",children:(0,v.jsx)(l.iP,{onTap:()=>{(0,m.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,v.jsx)(l.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,v.jsx)(l.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,v.jsx)(l.xv,{color:"default",inline:!0,size:"100",children:(0,v.jsx)(l.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}var f,x=n(359187);const b=void 0!==f?f:f=n(298262);function k({dedupeVisualAnnotations:e,pin:i,pinId:n,queryRef:t,onClickTitleOrDomain:f,pinCreditPrefix:b}){var k,P,w,S,I,T,j,A,D;const C=(0,o.ZP)(),L=(0,g.ml)(),F=(0,g.Wb)(),{isAuthenticated:z,isBot:M}=(0,c.B)(),R=(0,_.Z)(),K=!z&&!M&&L,U=f||null,[N,E]=(0,a.useState)(!1),Z=(0,h.si)(),O=(0,h.Re)(),B=(0,d.fs)({pinTitle:i.title,gridTitle:i.gridTitle,richSummaryDisplayName:null===(k=i.richSummary)||void 0===k?void 0:k.displayName,richMetadataTitle:null===(P=i.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:i.storyPinDataId,storyPinDataMetadataPinTitle:null===(w=i.storyPinData)||void 0===w||null===(S=w.metadata)||void 0===S?void 0:S.pinTitle})||i.description,q=(B||"").length>O,{description:H}=(0,d.eK)({richMetadataDescription:null===(I=i.richMetadata)||void 0===I?void 0:I.description,richSummaryDisplayName:null===(T=i.richSummary)||void 0===T?void 0:T.displayName,closeupUnifiedDescription:i.closeupUnifiedDescription}),W=H.length>Z,[V,$]=(0,a.useState)(!W&&!q),J=(0,s._S)(i.domain)?i.domain:"";return(0,v.jsxs)(l.xu,{children:[(0,v.jsxs)(l.xu,{children:[(0,v.jsxs)(l.xu,{as:"figcaption",paddingX:F?11:0,children:[(0,v.jsx)(l.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:N||M?B:(0,u.Z)(B||"",O)}),!!B&&(0,v.jsx)(l.xu,{height:H?8:0}),H&&(W||q)?(0,v.jsx)(p.Z,{id:"vase-pin-description",children:(0,v.jsxs)(l.iP,{onTap:()=>{N||z||((0,m.NC)("click_open_description_in_sheet"),R({action:"click",item:"more-description-in-sheet"})),$(!V),E(!N)},fullWidth:!1,children:[(0,v.jsx)(l.xv,{color:"default",size:"200",inline:!0,children:N||M?H:(0,u.Z)(H,Z)}),(0,v.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,v.jsx)(l.xv,{weight:"bold",size:"200",inline:!0,children:N||M?C.bt("Less", "Less", "Toggle less description button", undefined, true):C.bt("More", "More", "Toggle more description button", undefined, true)})})]})}):(0,v.jsx)(p.Z,{id:"vase-pin-description",children:(0,v.jsx)(l.xv,{color:"default",size:"200",inline:!0,children:H})})]}),K&&(V||M)&&!!J&&(0,v.jsx)(l.xu,{marginTop:2,children:(0,v.jsx)(l.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,r.nk)(C.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,v.jsx)(l.xu,{display:"inlineBlock",children:(0,v.jsx)(l.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,v.jsxs)(l.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[U&&(0,v.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),R({action:"click",item:"pin-domain-link"}),(0,m.My)("mweb_pin_page.pin_link.clickthrouh"),z||(0,m.NC)("click_pin_closeup_link_clickthrough"),U()},tapStyle:"compress",children:(0,v.jsx)(l.xv,{size:"200",lineClamp:1,children:(0,v.jsx)("span",{style:{textDecoration:"underline"},children:J})},"pinLinkDomain")}),i.link&&!U&&(0,v.jsx)(l.rU,{href:i.link,children:(0,v.jsx)(l.xv,{size:"200",underline:!0,children:J})})]},"pinCredits")})})})]}),!!i.board&&(V||M)&&(0,v.jsx)(l.xu,{marginTop:4,children:(0,v.jsx)(y,{boardUrl:i.board.url||void 0,boardName:i.board.name||void 0,boardPrivacy:i.board.privacy||void 0,pinnerFullName:(null===(j=i.pinner)||void 0===j?void 0:j.fullName)||void 0,pinnerImageSmallUrl:null===(A=i.pinner)||void 0===A?void 0:A.imageSmallUrl,pinnerImageLargeUrl:null===(D=i.pinner)||void 0===D?void 0:D.imageLargeUrl})}),(0,v.jsx)(l.xu,{marginTop:4,children:(0,v.jsx)(x.Z,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:t})})]})}const{usePinData:P}=(0,t.x0)(b,{useLegacyAdapter:e=>e&&{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}});function w({queryRef:e,pinId:i,...n}){const[a,l]=P(e?{graphqlRef:e}:i);return a&&(0,v.jsx)(k,{...n,pinId:i,pin:a,queryRef:l})}},154086:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(667294),l=n(234983),t=n(780621);const o=({viewType:e,viewParameter:i,viewData:n,auxData:a,objectIdStr:l,component:o,clientTrackingParams:r,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:i,view_data:n,aux_data:a,object_id_str:l,component:o,clientTrackingParams:r,element:s},Object.keys(u).reduce(((e,i)=>(void 0===u[i]&&delete e[i],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,t.My)("mweb.logging.null_view_type"),d(c)};function r(e){const{auxData:i,clientTrackingParams:n,children:t,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,l.Z)(),_=JSON.stringify(i),g=JSON.stringify(c);return(0,a.useEffect)((()=>{o(e,m)}),[m,_,n,r,s,d,g,u,p]),a.Children.only(t)}},804402:(e,i,n)=>{n.d(i,{B:()=>_,Z:()=>g});var a=n(667294),l=n(616550),t=n(741208),o=n(545168),r=n(491190),s=n(504289),d=n(780621),c=n(161452),u=n(835770),p=n(122870),m=n(785893);const _=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:i,within:n}){const s=(0,l.useLocation)(),{flushContextEvents:g,logContextEvent:h}=(0,o.v)(),{viewType:v,viewParameter:y}=(0,r.SU)(),f=(0,c.Z)();(0,a.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[s,n,f]);const x=(0,a.useRef)(!1);(0,a.useEffect)((()=>{v&&202!==v?(h({component:i||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:x.current}}),x.current=!0):t.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:i,view_type:v,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:x.current})}),[i,h,y,v,n]);const b=(0,u.Z)();return(0,a.useEffect)((()=>{b||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[b,n]),(0,m.jsx)(p.Z,{children:a=>e({handleOpenApp:e=>{var l;(f({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),h({component:i||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),h({component:i||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),g(!0),a)&&(h({component:i||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),a(null!==(l=null==e?void 0:e.deepLinkUri)&&void 0!==l?l:_(s),n))}})})}},92921:(e,i,n)=>{n.d(i,{Z:()=>g});var a=n(883119),l=n(7039),t=n(434012),o=n(243084),r=n(260531),s=n(55592),d=n(804402),c=n(487135),u=n(613992),p=n(825152),m=n(785893);const _=({deepLinkUri:e,isOpen:i,onDismiss:n,onOpenInApp:c,to:_,within:g})=>{const h=(0,t.ZP)(),v=(0,s.Wb)(),{isBot:y,userAgent:{platform:f,raw:x}}=(0,r.B)(),b=(0,p.Rp)({isBot:y,platform:f,userAgent:x}),k=(0,o.Z)({href:null!=_?_:""}),P=v?60:40;return(0,m.jsx)(l.default,{accessibilityModalLabel:"",isOpen:i,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new a.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(d.Z,{componentType:14157,within:g,children:({handleOpenApp:i})=>(0,m.jsxs)(a.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(a.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(a.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(a.hU,{accessibilityLabel:h.bt("close icon background", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{n({event:e}),k&&!e.defaultPrevented&&(i(),k({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(a.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(a.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,m.jsx)(u.Z,{size:P}):(0,m.jsx)(a.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(a.xu,{paddingY:2,children:(0,m.jsx)(a.X6,{align:"center",size:"400",children:b?h.bt("Try Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):h.bt("Pinterest is better in the app", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true)})}),(0,m.jsx)(a.xv,{align:"center",size:"300",children:b?h.bt("A space-saving way to discover new ideas", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):h.bt("Continue in the app for the full experience", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)}),(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{i({deepLinkUri:e}),c()},text:h.bt("Open app", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:i,isOpen:n,onDismiss:a,onOpenInApp:l,shouldTrackDismiss:t,to:o,viewParameter:r,viewType:s,within:d}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:r,children:(0,m.jsx)(_,{deepLinkUri:i,isOpen:n,onDismiss:e=>{t&&(0,c.y)(),a(e)},onOpenInApp:()=>{(0,c.y)(),l()},to:o,within:d})})}},487135:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var a=n(667294),l=n(495025),t=n(589598),o=n(430848),r=n(309663),s=n(154086),d=n(785893);const c=()=>{(0,t.Nh)("appUpsell",Date.now()),(0,t.qn)("firstUpsellTime")||(0,t.Nh)("firstUpsellTime",Date.now()),(0,o.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:t}){return(0,r.Z)()||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:t,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(a.Fragment,{children:e})})}},835770:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(702664);const l=()=>(0,a.useSelector)((({session:{canUseNativeApp:e}})=>e))},69465:(e,i,n)=>{n.d(i,{Ph:()=>l,Re:()=>o,si:()=>t});var a=n(55592);const l=(e,i)=>e&&!i?e:null,t=()=>"phone"!==(0,a.ZP)()?180:130,o=()=>"phone"!==(0,a.ZP)()?180:80},413674:(e,i,n)=>{n.d(i,{Z:()=>o});var a,l=n(167912);const t=void 0!==a?a:a=n(277334);const o=e=>function(e){var i,n,a,l,t,o,r,s,d,c,u,p,m,_,g,h,v,y,f,x,b,k,P,w,S,I,T;return{"60x60":{height:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(a=e.imageSpec_60x60)||void 0===a?void 0:a.width)||void 0},"136x136":{height:(null==e||null===(l=e.imageSpec_136x136)||void 0===l?void 0:l.height)||void 0,url:(null==e||null===(t=e.imageSpec_136x136)||void 0===t?void 0:t.url)||void 0,width:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.width)||void 0},"170x":{height:(null==e||null===(r=e.imageSpec_170x)||void 0===r?void 0:r.height)||void 0,url:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.url)||void 0,width:(null==e||null===(d=e.imageSpec_170x)||void 0===d?void 0:d.width)||void 0},"236x":{height:(null==e||null===(c=e.imageSpec_236x)||void 0===c?void 0:c.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.height)||void 0,url:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.url)||void 0,width:(null==e||null===(g=e.imageSpec_474x)||void 0===g?void 0:g.width)||void 0},"564x":{height:(null==e||null===(h=e.imageSpec_564x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.url)||void 0,width:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.width)||void 0},"600x315":{height:(null==e||null===(k=e.imageSpec_600x315)||void 0===k?void 0:k.height)||void 0,url:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.width)||void 0},orig:{height:(null==e||null===(S=e.imageSpec_orig)||void 0===S?void 0:S.height)||void 0,url:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.url)||void 0,width:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.width)||void 0}}}((0,l.useFragment)(t,e))},613992:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(785893);function l({size:e,noCircle:i}){return(0,a.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},466799:(e,i,n)=>{function a({isEligibleForPdp:e,isOosProduct:i,isStaleProduct:n,pinShoppingFlags:a}){if(a){const l=a,t={pin_is_shop_the_look:l.includes(2),pin_show_pdp:e||i||n,is_available:l.includes(1),is_product_pin_v2:l.includes(5),is_rich_product_pin:l.includes(6)};return JSON.stringify(t)}}n.d(i,{Z:()=>a})},825152:(e,i,n)=>{n.d(i,{G3:()=>c,Rp:()=>d,kp:()=>s});var a=n(846344),l=n(589598),t=n(430848);const o=14*a.F4;function r(e,i,n){return e-i>n}const s=e=>{const i=function(){const e=Date.now(),i=Number((0,l.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,l.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,n){const{currentTime:a,firstUpsellTime:t,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||o,!t||function(e,i,n){return e<i+n}(a,t,i)?!d:!!r(a,s,n)&&((0,l.L_)("firstUpsellTime"),!0)}(i,a.F4):function(e,i){const{currentTime:n,lastUpsellTime:a}=e;return i=i||o,!a||r(n,a,i)}(i)},d=({isBot:e,platform:i,userAgent:n})=>{try{return!e&&"android"===i&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(n))<7}catch(a){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},800842:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(741208),l=n(646824),t=n(935057);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,i)=>i?(0,t.ru)(e,{invite_code:i}):e,d=(e,i,n)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?s(e,n):"ios"===i||"ipad"===i?s(e.iOS,n):"android"===i?s(e.android,n):null},c=({isAuthenticated:e,checkExperiment:i,deeplinkUri:n,fallbackUrl:s,invite_code:c,logContextEvent:u,platform:p,redirectToLite:m,unauthId:_,userAgent:g,within:h})=>{null==u||u({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});let v="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==i?void 0:i(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":v="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":v="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":v="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":v="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":v="https://pinterest.onelink.me/TVSr/elsthgd7"}if(n){const i=(({deeplinkUri:e,invite_code:i,platform:n,fallbackUrl:a,unauthId:l})=>({deeplink_path:d(e,n,i),current_page_url:(0,t.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:l,utm_source:140,utm_medium:2152,...a?{af_r:a}:null}))({isAuthenticated:e,deeplinkUri:n,fallbackUrl:s,invite_code:c,platform:p,unauthId:_,userAgent:g});if(a.Z.increment("mweb.deeplink",1,{platform:p}),c&&a.Z.increment("mweb.deeplink.invite_code",1),a.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(_)}),m){a.Z.increment("mweb.deeplink.lite_link",1),null==u||u({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});const e=(({unauthId:e})=>{const i=(0,t.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:_});window.location.href=(0,t.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===p){null==u||u({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});const e=(({deeplinkUri:e,invite_code:i,platform:n,unauthId:a})=>{const l=JSON.stringify({deeplink_path:d(e,n,i),current_page_url:(0,t.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:a});return{referrer:(0,t.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l})}})({deeplinkUri:n,invite_code:c,platform:p,unauthId:_});(0,l.v)()?(0,l.Z)().then((n=>{if(n.length>0){const e=(0,t.ru)(window.location.href,i);window.open(e)}else null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,t.ru)(o,e)})).catch((()=>{a.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,t.ru)(o,e))}else{if(a.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===p&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,t.ru)("https://pinterest.com/pinterest-predicts",i));null==u||u({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,t.ru)(v,i)}}}},197916:(e,i,n)=>{n.d(i,{CC:()=>r,H$:()=>d,Mt:()=>o,dp:()=>s,p9:()=>c});var a=n(589598),l=n(430848),t=n(421663);const o=(e,i,n,l,o,r,s=t.k7)=>{const d=(0,a.qn)(s)?JSON.parse((0,a.qn)(s)):[];if(!d[0]||d[0].path!==e){const t=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:i||"",first_pin_id:n||"",image_info:l||"",pin_description:o||"",is_shared:!!r,pin_invite_code:r}];(0,a.Nh)(s,JSON.stringify(t.concat(d)))}},r=({path:e,image:i,dominant_color:n,pin_description:a,pin_id:o})=>{const r=(()=>{const e=(0,l.qn)(t.KH);if(!e)return[];let i;try{i=JSON.parse(e)}catch(n){i=[]}return i})();if(!r[0]||r[0].path!==e){const s=[{path:e,image:i,pin_description:a||"",dominant_color:n||"",pin_id:o||""}];(0,l.Nh)(t.KH,JSON.stringify(s.concat(r)))}};function s(e,i,n,a,l,r){o(e,i,n,a,l,r,t.zR)}const d=(e,i,n,a,l)=>{o(e,i,n,a,null!=l?l:"","",t.dy)};function c(e,i,n,a,l){o(e,i,n,a,l,"",t.QR)}},815039:(e,i,n)=>{n.d(i,{Z:()=>d,x:()=>s});var a=n(667294),l=n(780621),t=n(785893);const o=(0,a.createContext)((()=>{})),r=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[i,n]=(0,a.useState)(null);(0,a.useEffect)((()=>r),[]);const s=(0,a.useCallback)((e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),d=!!i;return(0,a.useEffect)((()=>{const e=()=>{n(null),r(),(0,l.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,t.jsx)(o.Provider,{value:s,children:(0,t.jsxs)(a.Fragment,{children:[e,i]})})},d=()=>(0,a.useContext)(o)},119108:(e,i,n)=>{n.d(i,{$:()=>s,Z:()=>d});var a=n(667294),l=n(589598);const t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(i){return null}},o=new Set;function r(e){const i=(0,a.useCallback)((i=>{const n=n=>{n===e&&i()};return o.add(n),()=>{o.delete(n)}}),[e]),n=(0,a.useSyncExternalStore)(i,(()=>(0,l.qn)(e)),(()=>null)),r=(0,a.useCallback)((i=>{null===i?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(i)),function(e){o.forEach((i=>i(e)))}(e)}),[e]);return(0,a.useMemo)((()=>[t(n),r]),[n,r])}const s=2,d=()=>{const[e,i]=r("unauthSavedPins"),n=null!==(l=null==(a=e)?void 0:a.pins)&&void 0!==l?l:[];var a,l;const t=e=>i((e=>e.length?{pins:e}:null)(e)),o=()=>n.length<s;return{pins:n,save:e=>{o()&&t(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>t(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>t([]),canSaveMore:o}}},442935:(e,i,n)=>{n.d(i,{Bb:()=>h,Bx:()=>s,F4:()=>r,OG:()=>t,Qj:()=>d,_6:()=>g,gv:()=>o,hg:()=>c,is:()=>m,jP:()=>_,lt:()=>l,oM:()=>u,wI:()=>p});var a=n(935057);const l=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),t=e=>e.pathname,o=({firstName:e,i18n:i})=>e?(i.bt("{{ name }} invited you to join their board", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):i.bt("Your friends invited you to join their board", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),r=e=>{const i=(0,a.mB)(e.search).board_url;if(i){const e=(0,a.Jx)(i),n=(0,a.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e.bt("Log in to save this Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return i},c=e=>e.bt("Log in to send this Pin", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt("Log in to edit this Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return i},m=e=>e.bt("Log in to create a Pin or board", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),_=e=>e.bt("Log in to hide this Pin", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt("Log in to share the profile", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),h=e=>e.bt("Log in to create a board", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},553956:(e,i,n)=>{n.d(i,{a:()=>a,k:()=>l});const a=e=>({type:"ONE_TAP_SAVE",payload:e}),l=e=>({type:"ONE_TAP_UNSAVE",payload:e})},723546:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(904062),l=n(618365),t=n(89997);function o({history:e,i18n:i,logContextEvent:n,onSuccess:o,onUndo:r,originalPinId:s,pinId:d,trackingParams:c,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:m,historyPush:_,savePinId:g}){return(h,v)=>{const{pins:y,session:f}=v(),{userId:x}=f,b=y[d],k={name:i.bt("Quick saves", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:x};return a.Z.create("BoardResource",k).callCreate().then((a=>{var v,y,x,k;const P=a.resource_response.data;return new l.Z({boardId:P.id,dispatch:h,isQuickSave:!0,history:e,i18n:i,onSuccess:o,onUndo:r,originalPinId:s,pinId:d,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>m?m(e,u):void 0,trackingParams:c,userId:f.userId,historyPush:_,savePinId:g,pinData:{trackingParams:b?b.tracking_params:void 0,viewParameter:b?(0,t.A)({hasRichMetadata:!!b.rich_metadata,hasRichMetadataProducts:!(null===(v=b.rich_metadata)||void 0===v||!v.products),hasRichMetadataArticle:!(null===(y=b.rich_metadata)||void 0===y||!y.article),hasRichMetadataRecipe:!(null===(x=b.rich_metadata)||void 0===x||!x.recipe)}):void 0,pinnedToBoardId:b?null===(k=b.pinned_to_board)||void 0===k?void 0:k.id:void 0}}).processRepin(n)}))}}},389416:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(883119),l=n(434012),t=n(714376),o=n(785893);function r({isPinRep:e}){const i=(0,l.ZP)(),n=e?"default":"inverse",r=(0,o.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(a.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.xu,{paddingY:4,children:(0,o.jsx)(a.JO,{accessibilityLabel:i.bt("Pin not available", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,o.jsx)(a.xv,{align:"center",color:n,weight:"bold",children:i.bt("Unavailable", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,o.jsx)(a.xu,{paddingY:1,children:(0,o.jsx)(a.xv,{align:"center",color:n,children:i.bt("Removed by the creator", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?r:(0,o.jsx)(a.xu,{height:"100vh",children:(0,o.jsx)(t.Z,{children:r})})}},974865:(e,i,n)=>{n.d(i,{Z:()=>Z});var a,l=n(667294),t=n(167912),o=n(616550),r=n(883119),s=n(545168),d=n(434012),c=n(376410),u=n(56397),p=n(426093),m=n(639429),_=n(301351),g=n(835686),h=n(260531),v=n(699372),y=n(835460),f=n(780621),x=n(413674),b=n(328227),k=n(833979),P=n(478124),w=n(836153),S=n(441706),I=n(785893);const T=250,j=({children:e,onTap:i,testId:n})=>{const[a,t]=(0,l.useState)(!1);return(0,I.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,I.jsx)(r.iP,{onTap:i,onBlur:()=>t(!1),onFocus:()=>t(!0),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:e})})},A=void 0!==a?a:a=n(823722),D=({i18n:e,pinId:i,showSignupModal:n,attributionLabelSource:a})=>(0,I.jsx)(j,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:a}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i}}})},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:e.bt("Save image", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),C=({i18n:e,pinTitle:i,pinDescription:n,pinId:a,bestPinImgSrc:l,attributionLabelSource:t,logContextEvent:o,pinCategory:s,checkExperiment:d,showSignupModal:c})=>(0,I.jsx)(j,{testId:"download",onTap:()=>{const{expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:m}=(0,b.HM)(d,"dweb_download_in_context_menus_closeup");(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:t,expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:m}),u?c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${t}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:a}}}):(0,b.ZP)({filename:i||n||a,imgSrc:l||"",category:s,pinId:a,isUnauth:!0,platform:"web",expName:e,expGroup:r},o)},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:e.bt("Download image", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem"),L=({pinId:e,pinLink:i,fromEllipsisButton:n,attributionLabelSource:a,showSignupModal:l,i18n:t})=>(0,I.jsx)(j,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:a}),window.open(n?i:`/pin/${e}/`),n||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:t.bt("Open link in new tab", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),F=({history:e,levelOneInterestUrl:i,searchUrl:n,levelOneInterestName:a,i18n:l,interestTag:t,attributionLabelSource:o})=>(0,I.jsx)(j,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o}),i?e.push(`${i}`):e.push(n)},children:a?(0,I.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l.bt("See more ideas about {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:a})}):(0,I.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l.bt("See more ideas about {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:t})})},"MoreInterestsMenuItem"),z=({history:e,sourceUserUsername:i,sourceUserFullname:n,i18n:a,attributionLabelSource:l})=>(0,I.jsx)(j,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:l}),e.push(`/${i}/`)},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt("See more from {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:n})})},"MoreFromCreatorMenuItem"),M=({attributionLabelSource:e,showSignupModal:i,i18n:n})=>(0,I.jsx)(l.Fragment,{children:(0,I.jsx)(j,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),i({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:n.bt("Log in or sign up for more", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})},"LoginSignupMenuItem"),R=({attributionLabelSource:e,reportLink:i,i18n:n})=>(0,I.jsx)(l.Fragment,{children:(0,I.jsx)(j,{testId:"netzdg",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_netzdg",{attributionLabelSource:e}),window.open(i,"_blank")},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:n.bt("Report Pin for NetzDG", "Report Pin for NetzDG", "dweb.unauth.context_menu.link.report_pin_netzdg", undefined, true)})})},"ReportForNetzDGMenuItem"),K=({attributionLabelSource:e,reportLink:i,i18n:n})=>(0,I.jsx)(l.Fragment,{children:(0,I.jsx)(j,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(i,"_blank")},children:(0,I.jsx)(r.xv,{size:"200",weight:"bold",children:n.bt("Report Pin for EU local law violation", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function U({desktopContextMenuState:e,isMainPinImage:i,source:n,images:a,embedSrc:l,embedType:t,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:_,pinJoinSeoBreadcrumbUrl:f,pinId:x,pinLink:k,pinTitle:w,pinDescription:S,pinCategory:j,pinEligibleForDownload:A}){var U;const N=(0,d.ZP)(),E=(0,o.useHistory)(),{logContextEvent:Z}=(0,s.v)(),{countryFromIp:O,isAuthenticated:B,isBot:q,isSocialBot:H}=(0,h.B)(),{checkExperiment:W}=(0,g.F)(),V=B?W("web_auth_exclude_original_images").anyEnabled:W("web_unauth_exclude_original_images").anyEnabled,$=(0,u.Z)({images:a,embedSrc:l,embedType:t,excludeOriginals:!q&&!H&&V}),J=_,G=f,Y=null!==(U=null==m?void 0:m[0])&&void 0!==U?U:void 0,Q=(0,v.Z)(Y),X=`/search/pins/?q=${encodeURIComponent(Q)}&rs=image_only_attribution`,ee=(0,y.Z)(),ie="dweb.plp.ellipsis.button"===n,ne="DE"===O,{COUNTRY_CODES:ae}=P.LAW_CONFIGURATION.dsa,le=ae.includes(O);if(!$)return null;const te=(0,u.Z)({images:a,embedSrc:l,embedType:t,excludeOriginals:!q&&!H&&V});let oe="related_pin_right_click";ie?oe="action_bar_ellipsis":i&&(oe="right_click");const re=[{component:()=>D({i18n:N,pinId:x,showSignupModal:ee,attributionLabelSource:oe})},{component:()=>A&&(0,b.SU)(W,"dweb_download_in_context_menus_closeup")&&C({i18n:N,pinTitle:w,pinDescription:S,pinId:x,bestPinImgSrc:te,attributionLabelSource:oe,logContextEvent:Z,pinCategory:j,checkExperiment:W,showSignupModal:ee})},{component:()=>!(i||ie&&!k)&&L({i18n:N,pinId:x,pinLink:k,fromEllipsisButton:ie,showSignupModal:ee,attributionLabelSource:oe})},{component:()=>!!(Y||J&&G)&&F({history:E,levelOneInterestUrl:G,searchUrl:X,levelOneInterestName:J,i18n:N,interestTag:Y,attributionLabelSource:oe})},{component:()=>!(!p||!c)&&z({history:E,sourceUserUsername:c,sourceUserFullname:p,i18n:N,attributionLabelSource:oe})},{component:()=>!W("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&M({showSignupModal:ee,i18n:N,attributionLabelSource:oe})},{component:()=>ne&&W("lop_netzdg_launch").anyEnabled&&R({reportLink:`https://www.pinterest.com/about/netzdg/?pinId=${x}`,i18n:N,attributionLabelSource:oe})},{component:()=>le&&!ne&&W("lop_dsa_launch").anyEnabled&&K({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${x}`,i18n:N,attributionLabelSource:oe})}].map((({component:e})=>e())).filter((e=>!!e));return(0,I.jsxs)(r.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new r.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:T,children:[(0,I.jsx)(r.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,I.jsx)(r.JO,{icon:"pinterest",accessibilityLabel:N.bt("Pinterest logo", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),re]})}function N({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...a}){var l,o,r,s,d,c,u,g,h,v,y,f,b,k,P;const w=(0,t.useFragment)(A,e),T=(0,m.hy)(null==w?void 0:w.storyPinDataId),j=Boolean(null==w||null===(l=w.videos)||void 0===l?void 0:l.videoList),D=null==w?void 0:w.isUnsafe,C=!T&&!j&&!D,L=(0,x.Z)(w);let F;var z,M;(F=null!=w&&w.nativeCreator?w.nativeCreator:null!=w&&w.linkDomain?w.linkDomain.officialUser:(null==w?void 0:w.originPinner)||(null==w?void 0:w.pinner),F)||(F=null!==(z=null==w||null===(M=w.linkDomain)||void 0===M?void 0:M.officialUser)&&void 0!==z?z:null==w?void 0:w.pinner);const R=(0,S.Z)(w),K=null==w?void 0:w.title,N=null==w?void 0:w.description,E=null==w?void 0:w.gridTitle,Z=null!==(o=null==w||null===(r=w.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",O=null!==(s=null==w||null===(d=w.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",B=null!==(c=null==w||null===(u=w.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",q=null==w?void 0:w.storyPinDataId,H=null==w||null===(g=w.storyPinData)||void 0===g||null===(h=g.metadata)||void 0===h?void 0:h.pinTitle,W=(null==w||null===(v=w.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,V=R||void 0,$=null==w?void 0:w.closeupDescription,J=null==w?void 0:w.closeupUnifiedDescription,G=(null==w?void 0:w.category)||"",Y=(0,_.Ly)({pinTitle:K,gridTitle:E,richSummaryDisplayName:Z,richMetadataTitle:O,storyPinDataId:q,storyPinDataMetadataPinTitle:H,pinJoinVisualAnnotation:W,pinJoinAnnotationsWithLinks:V}),Q=(0,p.Z)({storyPinDataId:q,pinDescription:N,richMetadataDescription:B,richSummaryDisplayName:Z,closeupDescription:$,closeupUnifiedDescription:J});return(0,I.jsx)(U,{...a,embedSrc:(null==w?void 0:w.embed)&&w.embed.src,embedType:(null==w?void 0:w.embed)&&w.embed.type,images:L,sourceUserUsername:null===(y=F)||void 0===y?void 0:y.username,sourceUserFullname:null===(f=F)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==w||null===(b=w.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinJoinSeoBreadcrumbName:(null==w||null===(k=w.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(w.pinJoin.seoBreadcrumbs.length>0?w.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==w||null===(P=w.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(w.pinJoin.seoBreadcrumbs.length>0?w.pinJoin.seoBreadcrumbs[0].url:null),pinId:i,pinTitle:Y,pinDescription:Q,pinCategory:G,pinEligibleForDownload:C})}function E({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...a}){var l,t,o,r,s,d,c,u,g,h,v,y,f,x,b,P;const S=(0,w.S6)()(i),T=null==S?void 0:S.story_pin_data_id,j=null==S?void 0:S.videos,A=(0,m.hy)(T),D=!(null==j||!j.video_list),C=null==S?void 0:S.title,L=null==S?void 0:S.description,F=null==S?void 0:S.grid_title,z=null!==(l=null==S||null===(t=S.rich_metadata)||void 0===t?void 0:t.title)&&void 0!==l?l:"",M=null==S?void 0:S.category,R=null==S?void 0:S.images,K=null!==(o=null==S||null===(r=S.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==o?o:"",N=null!==(s=null==S||null===(d=S.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",E=null==S?void 0:S.closeup_description,Z=null==S?void 0:S.closeup_unified_description,O=null==S||null===(c=S.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,B=null==S||null===(g=S.pin_join)||void 0===g?void 0:g.visual_annotation,q=null==S||null===(h=S.pin_join)||void 0===h?void 0:h.annotations_with_links,H=null==S?void 0:S.is_unsafe,W=!A&&!D&&!H,{link_domain:V,native_creator:$,origin_pinner:J,pinner:G}=S||{};let Y=(0,k.wS)(V,$,J,G);var Q,X;Y||(Y=null!==(Q=null==S||null===(X=S.link_domain)||void 0===X?void 0:X.official_user)&&void 0!==Q?Q:null==S?void 0:S.pinner);const{full_name:ee,username:ie}=null!==(v=Y)&&void 0!==v?v:{},ne=(0,_.Ly)({pinTitle:C,gridTitle:F,richSummaryDisplayName:N,richMetadataTitle:z,storyPinDataId:T,storyPinDataMetadataPinTitle:O,pinJoinVisualAnnotation:B,pinJoinAnnotationsWithLinks:q}),ae=(0,p.Z)({storyPinDataId:T,pinDescription:L,richMetadataDescription:K,richSummaryDisplayName:N,closeupDescription:E,closeupUnifiedDescription:Z});return(0,I.jsx)(U,{...a,embedSrc:null==S||null===(y=S.embed)||void 0===y?void 0:y.src,embedType:null==S||null===(f=S.embed)||void 0===f?void 0:f.type,images:R,sourceUserUsername:ie,sourceUserFullname:ee,pinJoinVisualAnnotation:null==S||null===(x=S.pin_join)||void 0===x?void 0:x.visual_annotation,pinJoinSeoBreadcrumbName:(null==S||null===(b=S.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(S.pin_join.seo_breadcrumbs.length>0?S.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==S||null===(P=S.pin_join)||void 0===P?void 0:P.seo_breadcrumbs)&&(S.pin_join.seo_breadcrumbs.length>0?S.pin_join.seo_breadcrumbs[0].url:null),pinId:i,pinTitle:ne,pinDescription:ae,pinCategory:M,pinEligibleForDownload:W})}function Z(e){return e.graphqlRef?(0,I.jsx)(N,{...e}):(0,I.jsx)(E,{...e})}},441706:(e,i,n)=>{n.d(i,{Z:()=>r});var a,l=n(667294),t=n(167912);const o=void 0!==a?a:a=n(782194),r=e=>{var i;const n=(0,t.useFragment)(o,e),a=null==n||null===(i=n.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray;return(0,l.useMemo)((()=>null==a?void 0:a.reduce(((e,{name:i,url:n})=>i?{...e,[i]:{name:i,url:n}}:e),{})),[a])}},567187:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(667294),l=n(883119),t=n(524209),o=n(785893);const r=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:r,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,o.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(l.xv,{lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,o.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]}):(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,o.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27241.en_GB-87424cae71a06751.mjs.map