(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[80621],{24789:e=>{var n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=t},878122:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),r=t(883119),a=t(434012),l=t(785893);function s({children:e,heading:n}){const[t,s]=(0,i.useState)(!1),o=(0,a.ZP)();return(0,l.jsxs)(r.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,l.jsxs)(r.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,l.jsx)(r.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:n}),(0,l.jsx)(r.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,l.jsx)(r.hU,{accessibilityLabel:o.bt("Show more details drop-down", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:t?"arrow-forward":"arrow-down",onClick:()=>{s(!t)},size:"md"})})]}),!t&&(0,l.jsx)(i.Fragment,{children:e})]})}},651081:(e,n,t)=>{t.d(n,{n:()=>i});const i="300"},946903:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(667294),r=t(883119),a=t(651081),l=t(434012),s=t(785893);function o({children:e,maxLines:n=10}){const t=(0,i.useRef)(null),[o,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),d=(0,l.ZP)(),{isFirstLoad:u,isTruncated:m}=o;return(0,i.useEffect)((()=>{var e;u&&t.current&&((e=t.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})}),[u,m]),(0,s.jsxs)(r.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,s.jsx)(r.xv,{ref:t,lineClamp:u||m?n:0,inline:!0,children:e}),m&&(0,s.jsx)(r.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(r.kC,{flex:"grow",children:[(0,s.jsx)(r.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,s.jsx)(r.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,s.jsx)(r.iP,{fullWidth:!1,onTap:()=>c({...o,isTruncated:!1}),children:(0,s.jsx)(r.xv,{inline:!0,size:a.n,weight:"bold",children:d.bt(" … more", " … more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,s.jsx)(r.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},260727:(e,n,t)=>{t.d(n,{DW:()=>s,I:()=>l,oo:()=>a,vq:()=>r,zI:()=>o});const i=e=>{const n=e.toString(16);return 1===n.length?"0"+n:n},r=(e,n,t)=>"#"+i(e)+i(n)+i(t),a=e=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n&&[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]},l=.18,s=(e,n,t)=>.2126*(e/255)**2.2+.7151*(n/255)**2.2+.0721*(t/255)**2.2,o=e=>{const n=e.replace("#","");return(299*parseInt(n.substr(0,2),16)+587*parseInt(n.substr(2,2),16)+114*parseInt(n.substr(4,2),16))/1e3<155}},765767:(e,n,t)=>{function i(e){const n=Math.round(e/1e3),t=n%60;return Math.floor(n/60)+":"+(t<10?"0":"")+t}t.d(n,{Z:()=>i})},797541:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(883119),r=t(785893);const a=(e,n)=>{const t=null==e?void 0:e.includes("images/user/default");return Boolean(t&&n)};function l({accessibilityLabel:e,name:n,outline:t,size:l,src:s,verified:o}){return(0,r.jsx)(i.qE,{accessibilityLabel:e,name:n,outline:t,size:l,src:a(s,n)?void 0:s,verified:o})}l.displayName="Avatar";const s=l},451681:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),r=t(883119);const a=(0,i.createContext)();var l=t(785893);function s(e){(0,i.useContext)(a);const{alt:n,color:t,children:s,crossOrigin:o,decoding:c,elementTiming:d,fetchPriority:u,fit:m,loading:p,naturalHeight:h,naturalWidth:g,onError:x,onLoad:_,role:y,sizes:f,src:v,srcSet:b}=e;return(0,l.jsx)(r.Ee,{alt:n,color:t,crossOrigin:o,decoding:c,elementTiming:d,fetchPriority:u,fit:m,loading:p,naturalHeight:h,naturalWidth:g,onError:x,onLoad:_,role:y,sizes:f,src:v,srcSet:b,children:s})}},996141:(e,n,t)=>{t.d(n,{Z:()=>l});var i=t(667294),r=t(451051),a=t(785893);function l({useGraphQLAdapter:e,useLegacyAdapter:n}){const t=({children:n,data:t})=>n({enabled:!0,data:e(t)}),l=({children:e,data:t})=>e({enabled:!1,data:n(t)});return function({children:e,input:n}){var s;const o=n.enabled?(0,a.jsx)(t,{data:n.data,children:e}):(0,a.jsx)(l,{data:n.data,children:e}),c=null!==(s=n.suspense)&&void 0!==s&&s.dangerouslyServerRender?i.Suspense:r.Z;return n.suspense?(0,a.jsx)(c,{fallback:n.suspense.fallback,children:o}):o}}},59674:(e,n,t)=>{t.d(n,{Pn:()=>c,n6:()=>h,tK:()=>m,x0:()=>d});var i=t(702664),r=t(167912),a=t(836153),l=t(785893);function s(e,{useGraphQLAdapter:n,useLegacyAdapter:t},i){const a=({children:e,input:n})=>e(t(n)),s=({children:e,id:n})=>e(t(i(n))),o=({children:e,input:t})=>e(n(t)),c=({children:t,graphqlRef:i})=>{const a=(0,r.useFragment)(e,i);return t(n(a),a)};return{DerivedData:({children:e,input:n})=>{if("string"==typeof n)return(0,l.jsx)(s,{id:n,children:n=>e(n,null)});switch(n.type){case"deprecated":return(0,l.jsx)(a,{input:n.data,children:n=>e(n,null)});case"fragmentData":return(0,l.jsx)(o,{input:n.data,children:n=>e(n,null)});default:return(0,l.jsx)(c,{graphqlRef:n.graphqlRef,children:(n,t)=>e(n,t)})}},useDerivedData:function(a){if("string"==typeof a)return[t(i(a)),null];switch(a.type){case"deprecated":return[t(a.data),null];case"fragmentData":return[n(a.data),null];default:{const t=(0,r.useFragment)(e,a.graphqlRef);return[n(t),t]}}}}}const o=e=>(0,a.S6)()(e);function c(e,n){const{DerivedData:t,useDerivedData:i}=s(e,n,o);return{PinDerivedData:t,usePinDerivedData:i}}function d(e,n){const{Data:t,useData:i}=function(e,{useLegacyAdapter:n},t){const{DerivedData:i,useDerivedData:r}=s(e,{useLegacyAdapter:n,useGraphQLAdapter:e=>e},t);return{Data:i,useData:r}}(e,n,o);return{PinData:t,usePinData:i}}const u=e=>(0,i.useSelector)((({stories:n})=>n[e]));function m(e,n){const{DerivedData:t,useDerivedData:i}=s(e,n,u);return{StoryDerivedData:t,useStoryDerivedData:i}}const p=e=>(0,i.useSelector)((({articles:n})=>n[e]));function h(e,n){const{DerivedData:t,useDerivedData:i}=s(e,n,p);return{ExploreArticleDerivedData:t,useExploreArticleDerivedData:i}}},267856:(e,n,t)=>{t.d(n,{Z:()=>r});const i=28;function r(e){if(!e)return!1;const n=new Date(e);return n.setDate(n.getDate()+i),(new Date).getTime()<n.getTime()}},56397:(e,n,t)=>{function i({embedSrc:e,embedType:n,images:t,preferredResolution:i,excludeOriginals:r}){if(!e&&!n&&!t)return"";if("gif"===n)return e||"";if(!t)return"";if(i){const e="474x"===i&&t["474x"]||"236x"===i&&t["236x"]||t["736x"];if(e&&e.url)return e.url}const a=Object.keys(t).reduce(((e,n)=>{try{const i=n.split("x")[0];return Number.isNaN(Number(i))?{...e,[n]:t[n]}:{...e,[i]:t[n]}}catch(i){return e}}),{}),l=Object.keys(a);r&&"orig"===l[l.length-1]&&l.pop();return a[l.pop()].url||""}t.d(n,{Z:()=>i})},8501:(e,n,t)=>{function i({m:e=0,h:n=0}){let t;return t=n<=0?n:e>45?n+1:e>15?n+.5:n,{m:e,h:n,rm:n>0?0:e,rh:t}}function r(e){const n=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:n})}t.d(n,{X:()=>i,u:()=>r})},364002:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(785893);const r=e=>{const n=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...n,children:e.children||null})}},914886:(e,n,t)=>{t.d(n,{G:()=>i});const i="https://schema.org/Recipe"},898960:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t(451051).Z},699372:(e,n,t)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}t.d(n,{Z:()=>i})},103619:(e,n,t)=>{t.d(n,{Z:()=>i});const i=(e,n)=>e.length>n?e.substr(0,n-3).trim()+"…":e},328227:(e,n,t)=>{t.d(n,{HM:()=>o,SU:()=>s,ZP:()=>l});var i=t(217917),r=t(780621),a=t(949413);async function l({filename:e,imgSrc:n,imageDownloadSuccessCallback:t,category:i,pinId:a,viewParameter:l,viewType:s,isUnauth:o=!1,platform:c="web",expName:d,expGroup:u},m){return"undefined"==typeof window?Promise.resolve():((0,r.My)("web.download.click",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),m({event_type:82,object_id_str:a,view_type:s||3,view_parameter:l||139}),n&&document?fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((n=>{var a,l;const m=document.createElement("a");m.href=window.URL.createObjectURL(n),m.setAttribute("download",e&&e.replace(".","_")),m.style.display="none",null===(a=document.body)||void 0===a||a.appendChild(m),m.click(),null===(l=document.body)||void 0===l||l.removeChild(m),(0,r.My)("web.download.success",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),null==t||t()})).catch((()=>{throw(0,r.My)("web.download.failure",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),new Error("Download image error")})):Promise.resolve())}const s=(e,n)=>e(n).anyEnabled,o=(e,n)=>{const t=i.Z.getItem(a.rN)||0,{group:r}=e(n);if(!(!!r&&r.startsWith("enabled")))return{expName:n,expGroup:r,limitReached:!1,oldCount:t,newCount:t};const l=r.split("_").pop(),s=t>=(l?parseInt(l,10):0),o=s?t:t+1;return t!==o&&i.Z.setItem(a.rN,o),{expName:n,expGroup:r,limitReached:s,oldCount:t,newCount:o}}},236165:(e,n,t)=>{t.d(n,{IS:()=>v,Ys:()=>f,ZP:()=>T,j$:()=>w});var i,r=t(667294),a=t(167912),l=t(883119),s=t(878122),o=t(946903),c=t(434012),d=t(376410),u=t(835686),m=t(8501),p=t(364002),h=t(914886),g=t(55592),x=t(836153),_=t(785893);const y=void 0!==i?i:i=t(24789),f=({m:e,h:n,rm:t,rh:i},r,a=!1)=>e&&(!n||i<=0)?a?(0,d.nk)(r.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:t.toString()}):(0,d.nk)(r.nbt(["{{mins}} minute", "{{mins}} minutes"], t, "number showing the minutes to complete a recipe", true),{mins:t.toString()}):n?a?(0,d.nk)(r.bt("{{hrs}}hr {{mins}}min", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:n.toString(),mins:e.toString()}):(0,d.nk)(r.nbt(["{{hrs}} hour", "{{hrs}} hours"], i, "number showing the hours to complete a recipe", true),{hrs:i.toString()}):null,v=({m:e,h:n,rm:t,rh:i,i18n:r})=>e&&(!n||i<=0)?(0,d.nk)(r.bt("{{mins}}m", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:t.toString()}):n?(0,d.nk)(r.bt("{{hrs}}h {{mins}}m", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:n.toString(),mins:e.toString()}):null,b=(e,n)=>{const t=e&&e.length>0&&e.join(", "),i=n&&n.summary;return t&&i?`${t} • ${i}`:t||i},k=e=>e?e.reduce(((e,n)=>{var t,i;return e+(null!==(t=null===(i=n.ingredients)||void 0===i?void 0:i.length)&&void 0!==t?t:0)}),0):0,w=({displayCookTime:e,i18n:n,isShortened:t})=>f((0,m.u)(e),n,t);function D({category:e,ingredients:n,textSize:t="300",isOnePinEnabled:i}){return(0,_.jsxs)(l.xu,{marginBottom:4,children:[e&&(0,_.jsx)(l.xu,{children:(0,_.jsx)(l.xv,{weight:"bold",size:t,children:e})}),(null!=n?n:[]).map((e=>{var n,r;return(0,_.jsx)(l.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,_.jsxs)(l.xv,{size:t,children:[i?"•":""," ",e.amt||null," ",e.name]})},`${null!==(n=e.name)&&void 0!==n?n:""}-${null!==(r=e.name)&&void 0!==r?r:""}`)}))]})}const j=({categorizedIngredients:e,displayCookTime:n,image:t,ingredientCount:i,ingredientsDescription:a,name:d})=>{const m=(0,c.ZP)(),{checkExperiment:x}=(0,u.F)(),y=(0,g.ZP)(),f=x("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(n?w({displayCookTime:n,i18n:m,isShortened:f}):null)&&!i&&!a)return null;const v="desktop"===y,b=m.bt("Ingredients", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,_.jsxs)(l.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!f||!v)&&(0,_.jsx)(l.xu,{marginBottom:4,children:(0,_.jsx)(l.xv,{weight:"bold",align:"desktop"===y?"start":"center",children:b})}),(0,_.jsxs)(p.Z,{itemScope:!0,itemType:h.G,children:[(0,_.jsx)("meta",{content:d,itemProp:"name"}),t&&(0,_.jsx)("meta",{content:t,itemProp:"image"}),f&&v&&(0,_.jsx)(l.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,_.jsx)(s.Z,{heading:b,children:(0,_.jsx)(o.Z,{children:e.map((({category:e,ingredients:n},t)=>{const i=`ingredient-${t}`;return(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(l.xu,{marginBottom:4,children:(0,_.jsx)(D,{category:e,ingredients:n,textSize:"300",isOnePinEnabled:f})})},i)}))})})}),(!f||!v)&&Array.isArray(e)&&e.length>0&&(0,_.jsx)(l.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:n},t)=>(0,_.jsx)(l.xu,{marginBottom:2,children:(0,_.jsx)(D,{category:e,ingredients:n,textSize:"300",isOnePinEnabled:f})},t)))})]})]})},S=({graphqlRef:e,checkExperiment:n})=>{const t=(0,a.useFragment)(y,e),{imageSpec_474x:i,richMetadata:r}=t,l=null==r?void 0:r.recipe,s=null==l?void 0:l.categorizedIngredients,o=k(s),c=(null==l?void 0:l.categorizedIngredients)&&b(l.diets,l.servingsSummary);return(0,_.jsx)(j,{categorizedIngredients:s,displayCookTime:null==l?void 0:l.displayCookTime,image:null==i?void 0:i.url,ingredientCount:o,ingredientsDescription:c,name:null==l?void 0:l.name,checkExperiment:n})},P=({pinId:e,checkExperiment:n})=>{var t,i;const r=(0,x.S6)()(e),a=(null==r||null===(t=r.rich_metadata)||void 0===t?void 0:t.recipe)||{},{display_cook_time:l,name:s,categorized_ingredients:o,diets:c,servings_summary:d}=a,u=k(o),m=o&&b(c,d);return(0,_.jsx)(j,{categorizedIngredients:o,displayCookTime:l,image:(null===(i=((null==r?void 0:r.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:m,name:s,checkExperiment:n})};function T({graphqlRef:e,pinId:n}){const{checkExperiment:t}=(0,u.F)();return e?(0,_.jsx)(S,{graphqlRef:e,checkExperiment:t}):(0,_.jsx)(P,{pinId:n,checkExperiment:t})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80621.en_GB-209c51c45e76ac1f.mjs.map